{"version":3,"file":"ej2-navigations.umd.min.js","sources":["../src/common/h-scroll.js","../src/toolbar/toolbar.js","../src/accordion/accordion.js","../src/common/menu-base.js","../src/context-menu/context-menu.js","../src/menu/menu.js","../src/tab/tab.js","../src/treeview/treeview.js","../src/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        overlay.forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        navEles.forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            selectAll('.' + CLS_OVERLAY, this.element).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            if (scrollVal < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollVal -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_ITEM = 'e-extended-item';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: true, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs);\n        }\n        if (!isNOU(this.popObj) && isPopupElement && !eventArgs.cancel && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.separator();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl });\n            this.scrollModule.createElement = this.createElement;\n            this.scrollModule.appendTo(innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += (el.offsetWidth + parseFloat(style.marginRight) + parseFloat(style.marginLeft));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth = innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     * @returns void.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n            }\n        }\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ' )');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        popObj.offsetY = this.getElementOffsetY();\n        popObj.dataBind();\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((width + popNav.offsetWidth) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i], i);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            var tempDom = this.createElement('div', { innerHTML: item.tooltipText });\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass([].slice.call(innerEles), [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            tempArray = templateFn();\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible, Complex, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { getZindexPartial, calculatePosition, isCollide, fit } from '@syncfusion/ej2-popups';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * @private\n * Base class for Menu and ContextMenu components.\n */\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     * @private\n     */\n    MenuBase.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = this.createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            wrapper.style.display = 'block';\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.ngElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    MenuBase.prototype.render = function () {\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': this.isMenu ? 'menubar' : 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var actionNeeded = this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n        e.preventDefault();\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    MenuBase.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var sli = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                ul = wrapper.children[cnt - 1];\n                if (this.isMenu && ul.classList.contains('e-menu')) {\n                    sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    break;\n                }\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n            ul.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        }\n        navIdx = this.getIndex(li ? li.id : null, true);\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left\n        };\n        this.trigger('beforeOpen', eventArgs);\n        top = eventArgs.top;\n        left = eventArgs.left;\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (!isNullOrUndefined(left) && !isNullOrUndefined(top))) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            var offset = void 0;\n            var isRelative = this.isMenu && this.element.offsetParent.tagName !== 'BODY';\n            if (!this.isMenu && Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = 'right';\n                var y = 'top';\n                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                    x = this.enableRtl ? 'right' : 'left';\n                    y = 'bottom';\n                }\n                else {\n                    x = this.enableRtl ? 'left' : 'right';\n                }\n                offset = calculatePosition(li, x, y);\n                top = offset.top;\n                left = offset.left;\n            }\n            var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n            var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            var yCollision = collide.indexOf('bottom') > -1;\n            if (xCollision) {\n                offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                left = offset.left;\n            }\n            if (this.enableRtl || xCollision) {\n                left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                if (this.isMenu && xCollision && !this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx.length < 2) {\n                    left = this.enableRtl ? left - li.getBoundingClientRect().width : left + li.getBoundingClientRect().width;\n                }\n            }\n            if (yCollision) {\n                offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top;\n            }\n            collide = isCollide(ul, null, left, top);\n            xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            if (xCollision) {\n                offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                top = offset.top;\n                left = offset.left;\n            }\n            if (isRelative) {\n                var boundRect = ul.offsetParent.getBoundingClientRect();\n                top -= boundRect.top + pageYOffset;\n                left -= boundRect.left + pageXOffset;\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        if (this.isMenu) {\n            if (this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                top = top - 1;\n            }\n            else {\n                if (this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                    if (this.navIdx.length === 1) {\n                        left = left - 1;\n                    }\n                    else {\n                        top = top - 1;\n                    }\n                }\n            }\n        }\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var id = 'id';\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: this.getFields(level),\n            template: this.template,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[id]]) {\n                    args.curData[args.fields[id]] = getUniqueID('menuitem');\n                    _this.clearChanges();\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper')) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        if (this.isMenu && trgt.parentElement !== wrapper && !cli && this.navIdx.length) {\n            this.closeMenu(null, e);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item[this.getField('children', idx.length - 1)] &&\n                                item[this.getField('children', idx.length - 1)].length) {\n                                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                                    var collision = isCollide(cli, this.element);\n                                    if (collision.length) {\n                                        var boundRect = cli.getBoundingClientRect();\n                                        this.element.scroll((collision.indexOf('right') > -1 ? boundRect.right : boundRect.left), 0);\n                                    }\n                                }\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuBaseModel} newProp\n     * @param {MenuBaseModel} oldProp\n     * @returns void\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    MenuBase.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n        this.rippleFn();\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = {\n                element: ul, parentItem: item, items: item ? item.items : this.items\n            };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     * @returns Element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, this.getField('iconCss', navIdx.length - 1));\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    MenuBase.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement && !this.isMenu) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                        _this.element.classList.remove('e-menu-parent');\n                    }\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                    if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                        _this.element.classList.remove('e-vertical');\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            if (this.isMenu && this.ngElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n        }\n    };\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\nexport { MenuBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { MenuBase, MenuItem } from '../common/menu-base';\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top - To specify ContextMenu vertical positioning.\n     * @param left - To specify ContextMenu horizontal positioning.\n     * @param target - To calculate z-index for ContextMenu based upon the specified target.\n     * @method open\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, Complex } from '@syncfusion/ej2-base';\nimport { MenuBase, FieldSettings } from '../common/menu-base';\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    /**\n     * Constructor for creating the component.\n     * @private\n     */\n    function Menu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.tempItems = [];\n        return _this;\n    }\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    Menu.prototype.getModuleName = function () {\n        return 'menu';\n    };\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    Menu.prototype.preRender = function () {\n        this.isMenu = true;\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n        }\n        else {\n            this.tempItems = this.items;\n            this.items = [];\n            this.tempItems.map(this.createMenuItems, this);\n            this.setProperties({ items: this.items }, true);\n            this.tempItems = [];\n        }\n        _super.prototype.preRender.call(this);\n    };\n    Menu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice) {\n                this.element.classList.add(SCROLLABLE);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuModel} newProp\n     * @param {MenuModel} oldProp\n     * @returns void\n     */\n    Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n            }\n        }\n    };\n    Menu.prototype.createMenuItems = function (item, index) {\n        var pIdField;\n        var record = { items: [] };\n        var idx;\n        var i;\n        var items = this.items;\n        var fields = ['itemId', 'text', 'iconCss', 'url', 'separator', 'children'];\n        pIdField = this.getField('parentId');\n        for (i = 0; i < fields.length; i++) {\n            var field = this.getField(fields[i]);\n            if (item[field]) {\n                record[field] = item[field];\n            }\n        }\n        if (item[pIdField]) {\n            idx = this.getIndex(item[pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(record);\n        }\n        else {\n            this.items.push(record);\n        }\n    };\n    __decorate([\n        Property('Horizontal')\n    ], Menu.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(null)\n    ], Menu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], Menu.prototype, \"fields\", void 0);\n    Menu = __decorate([\n        NotifyPropertyChanges\n    ], Menu);\n    return Menu;\n}(MenuBase));\nexport { Menu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(this.createElement('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        items.forEach(function (item, i) {\n            if (isNOU(item.header) || isNOU(item.header.text)) {\n                _this.items.splice(i, 0);\n                return;\n            }\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tCont.insertBefore(icon, tCont.firstElementChild);\n                    }\n                    else {\n                        tCont.appendChild(icon);\n                    }\n                    tEle = txtWrapEle;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrapEle : icon);\n                    if (tEle === icon) {\n                        detach(txtWrapEle);\n                        tCont.appendChild(icon);\n                    }\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        this.prevActiveEle = newCnt.id;\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content');\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop) {\n        if (typeof val === 'string') {\n            val = val.trim();\n        }\n        var templateFn = compile(val);\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text) {\n        this.compileElement(element, text, 'headerText');\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains('e-hidden')) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_HEADER + ' .' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        if (!this.isReplace) {\n            this.trigger('adding', { addedItems: items });\n        }\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            return;\n        }\n        var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        if (itemsCount !== 0) {\n            lastEleIndex = this.lastIndex + 1;\n        }\n        if (isNOU(index)) {\n            index = itemsCount - 1;\n        }\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n            this.hdrEle.style.display = '';\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            _this.items.splice((index + place), 0, item);\n            if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                var no = lastEleIndex + place;\n                var ele = _this.createElement('div', {\n                    id: CLS_CONTENT + '_' + no, className: CLS_ITEM, attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                });\n                _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                _this.getContent(eleTrg, item.content, 'render');\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        if (!this.isReplace) {\n            this.trigger('added', { addedItems: items });\n        }\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removeArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removeArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.items.splice(index, 1);\n        this.itemIndexArray.splice(index, 1);\n        this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT, this.element));\n        if (!isNOU(cntTrg)) {\n            detach(cntTrg);\n        }\n        this.trigger('removed', removeArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.selectedItem = index;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains('e-hidden')) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length === 0) {\n                this.select(index);\n            }\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        var trg = this.tbItem[args];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectingItem: trg,\n            selectingIndex: args,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selecting', eventArg);\n        }\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.itemIndexArray.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                                detach(hdrItem);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                if (isHiddenEle) {\n                                    this.hideTab(index);\n                                }\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    cntItem.appendChild(eleVal);\n                                    eleVal.style.display = '';\n                                }\n                                else if (newVal === '' && oldVal[0] === '#') {\n                                    document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                                    cntItem.innerHTML = newVal;\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        this.lastIndex = 0;\n                        if (isNOU(this.tbObj)) {\n                            this.reRenderItems();\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            if (this.templateEle.length > 0) {\n                                this.expTemplateContent();\n                            }\n                            this.templateEle = [];\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.index = 0;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNOU(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n        this.initialRender = false;\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then(function (e) {\n                    if (_this.fields.dataSource instanceof DataManager && _this.fields.dataSource.dataSource.offline) {\n                        _this.treeList.pop();\n                        _this.treeData = e.result;\n                        _this.isNumberTypeId = _this.getType();\n                        _this.setRootData();\n                        _this.renderItems(true);\n                        if (_this.treeList.length === 0 && !_this.isLoaded) {\n                            _this.finalize();\n                        }\n                    }\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                    _this.treeList.pop();\n                    _this.treeData = e.result;\n                    _this.isNumberTypeId = _this.getType();\n                    _this.setRootData();\n                    _this.renderItems(true);\n                    if (_this.treeList.length === 0 && !_this.isLoaded) {\n                        _this.finalize();\n                    }\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureIndeterminate = function () {\n        if (this.autoCheck) {\n            var liElement = selectAll('li', this.element);\n            var ulElement = void 0;\n            for (var i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (var i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE) && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n        this.doExpandAction();\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNOU(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNOU(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNOU(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNOU(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (this.preventExpand !== true) {\n            removeClass([icon], EXPANDABLE);\n            addClass([icon], COLLAPSIBLE);\n            var start_1 = 0;\n            var end_1 = 0;\n            var proxy_1 = this;\n            var ul_1 = select('.' + PARENTITEM, currLi);\n            var liEle_1 = currLi;\n            this.setHeight(liEle_1, ul_1);\n            if (this.isAnimate) {\n                this.aniObj.animate(ul_1, {\n                    name: this.animation.expand.effect,\n                    duration: this.animation.expand.duration,\n                    timingFunction: this.animation.expand.easing,\n                    begin: function (args) {\n                        liEle_1.style.overflow = 'hidden';\n                        start_1 = liEle_1.offsetHeight;\n                        end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    },\n                    progress: function (args) {\n                        args.element.style.display = 'block';\n                        proxy_1.animateHeight(args, start_1, end_1);\n                    },\n                    end: function (args) {\n                        args.element.style.display = 'block';\n                        _this.expandedNode(liEle_1, ul_1, icon);\n                    }\n                });\n            }\n            else {\n                this.expandedNode(liEle_1, ul_1, icon);\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && (this.fields.dataSource.dataSource.offline)) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper_1, eicon, parentLi, expandChild, callback);\n            }\n            else {\n                mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                    _this.treeList.pop();\n                    childItems = e.result;\n                    _this.loadChild(childItems, mapper_1, eicon, parentLi, expandChild, callback);\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback) {\n        this.currentLoadData = childItems;\n        if (isNOU(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.fields.dataSource.dataSource.offline) {\n                var id = parentLi.getAttribute('data-uid');\n                var nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.renderSubChild(parentLi, expandChild);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild, callback);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n            (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNOU(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNOU(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true ||\n                    getValue(this.fields.child.toString(), child[length_1])) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    if (childId_1) {\n                        (isNOU(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains('e-text-content')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs);\n        newText = eventArgs.cancel ? eventArgs.oldText : eventArgs.newText;\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        if (eventArgs.oldText !== newText) {\n            this.triggerEvent();\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return ele.getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            enableAutoScroll: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    eventArgs.cancel = true;\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                    _this.dragStartAction = false;\n                }\n                else {\n                    _this.dragStartAction = true;\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs);\n                _this.dragParent = eventArgs.draggedParentNode;\n                _this.preventExpand = eventArgs.preventTargetExpand;\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                for (var i = 0; i < sNodes.length; i++) {\n                    if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                        continue;\n                    }\n                    this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        this.triggerEvent();\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (!dragLi.classList.contains('e-disable') && !dropLi.classList.contains('e-disable')) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNOU(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNOU(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl) && this.preventExpand === true) {\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            icon.classList.add('e-icon-expandable');\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            removeClass([icon], COLLAPSIBLE);\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', null);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_1 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_1) ? parent_1.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_1 === null && targetParent) {\n                    var parent_2 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_2) ? parent_2.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        var id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNOU(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNOU(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNOU(id)) {\n            index = isNOU(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child)) ||\n                    (this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    index = isNOU(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNOU(obj) || isNOU(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNOU(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNOU(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNOU(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNOU(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNOU(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        var childNodes;\n        if (isNOU(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove) {\n        var removedData;\n        if (isNOU(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function () {\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    e.originalEvent.preventDefault();\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNOU(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None') {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.initialRender = true;\n                    this.updateListProp(this.fields);\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            var dropUl_1;\n            var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n            var proxy_5 = this;\n            if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n                dropLi.querySelector('.' + PARENTITEM) === null) {\n                proxy_5.renderChildNodes(dropLi, null, function () {\n                    dropUl_1 = dropLi.querySelector('.' + PARENTITEM);\n                    proxy_5.addGivenNodes(nodes, dropLi, index, true, dropUl_1);\n                    proxy_5.triggerEvent();\n                });\n            }\n            else {\n                this.addGivenNodes(nodes, dropLi, index, true);\n                this.triggerEvent();\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        var newCheck = [];\n        var i = 0;\n        var id = this.fields.id;\n        for (i; i < this.treeData.length; i++) {\n            //Checks if isChecked is enabled while node is not loaded in DOM\n            var checked = null;\n            var childNode = null;\n            var isLoaded = this.element.querySelector('[data-uid=\"' + this.treeData[i][id].toString() + '\"]');\n            if (isLoaded && isLoaded.querySelector('.e-list-item') === null) {\n                //Checks if isChecked is enabled for parent\n                if (this.treeData[i][this.fields.isChecked] === true\n                    && this.checkedElement.indexOf(this.treeData[i][id].toString()) === -1) {\n                    newCheck.push(this.treeData[i][id].toString());\n                    checked = 2;\n                }\n                //Checks for child nodes with isChecked enabled\n                if (checked !== 2) {\n                    checked = 1;\n                }\n                childNode = this.getChildNodes(this.treeData, this.treeData[i][id].toString());\n                (childNode !== null) ? this.allCheckNode(childNode, newCheck, checked) : childNode = null;\n            }\n        }\n        i = 0;\n        //Gets checked nodes based on UI interaction\n        while (i < checkNodes.length) {\n            if (newCheck.indexOf(checkNodes[i]) !== -1) {\n                i++;\n                continue;\n            }\n            newCheck.push(checkNodes[i]);\n            //Gets all child which is not loaded while parent is checked\n            var parentNode = this.element.querySelector('[data-uid=\"' + checkNodes[i] + '\"]');\n            if (parentNode && parentNode.querySelector('.e-list-item') === null) {\n                var child = this.getChildNodes(this.treeData, checkNodes[i].toString());\n                (child && this.autoCheck) ? this.allCheckNode(child, newCheck) : child = null;\n            }\n            i++;\n        }\n        return newCheck;\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNOU(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNOU(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    var TreeView_1;\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        this.enableRtl ? (addClass([this.element], RTL)) :\n            (removeClass([this.element], RTL));\n    };\n    Sidebar.prototype.setTarget = function () {\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        var closeArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('close', closeArguments);\n        if (!closeArguments.cancel) {\n            if (this.element.classList.contains(CLOSE)) {\n                return;\n            }\n            if (this.element.classList.contains(OPEN)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], CLOSE);\n            removeClass([this.element], OPEN);\n            this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n                setStyle(this.element, { 'width': formatUnit(this.width) });\n            this.setDock();\n            this.setType(this.type);\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            if (!this.enableDock && sibling) {\n                sibling.style.transform = 'translateX(' + 0 + 'px)';\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n            this.destroyBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.remove('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: false }, true);\n        }\n    };\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        var openArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('open', openArguments);\n        if (!openArguments.cancel) {\n            removeClass([this.element], VISIBILITY);\n            if (this.element.classList.contains(OPEN)) {\n                return;\n            }\n            if (this.element.classList.contains(CLOSE)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], [OPEN, TRASITION]);\n            setStyle(this.element, { 'transform': '' });\n            removeClass([this.element], CLOSE);\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n            var elementWidth = this.element.getBoundingClientRect().width;\n            this.setType(this.type);\n            this.createBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.add('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: true }, true);\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.getState()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    this.isOpen ? this.show() : this.hide();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                    this.setProperties({ isOpen: true }, true);\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_RTL","CLS_DISABLE","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","customStep","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","swipe","swipeHandler","EventHandler","scrollEle","scrollHandler","createOverlay","createNavIcon","isNullOrUndefined","scrollStep","offsetWidth","createElement","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","addOnPersist","getModuleName","destroy","remove","nav","selectAll","forEach","detach","_a","elem","removeAttribute","disable","value","navEles","el","concat","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","clsLeft","navEle","navLeftItem","onKeyPress","e","_this","keyTimer","window","setTimeout","keyTimeout","eleScrolling","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","setInterval","scrollDis","isContinuous","rootEle","querySelector","scrollLeft","frameScrollRequest","distance","swipeEle","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTENDEDPOPOPEN","Item","apply","Event","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","tempId","isNOU","document","body","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","eventArgs","enableCollision","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","popCheck","isVisible","overflowMode","keyCode","hide","duration","destroyHScroll","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","eleFocus","nodes","popupCheck","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","item","cancel","position","X","Y","offsetX","dataBind","refreshPosition","getElementOffsetY","minHeight","renderControl","separator","formatUnit","height","setStyle","attributes","role","aria-disabled","aria-haspopup","aria-orientation","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","appendTo","overflow","itemWidthCal","getComputedStyle","parseFloat","marginRight","marginLeft","innerItem","eleWidth","itemWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","getElementsByClassName","removePositioning","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","offsetLeft","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","sepItem","extendEle","popupEle","popupInit","getPropertyValue","clientHeight","maxHeight","eleStyles","popup","Popup","relateTo","offsetY","open","close","collision","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemsRerender","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","btnObj","Button","iconPosition","htmlAttributes","tooltipText","tempDom","textContent","cssClass","template","itemClick","showTextOn","sTxt","currentTarget","curEle","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","Collection","CLS_ACRDN_ROOT","CLS_ROOT","CLS_HEADER","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_EXPANDICN","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_TOGANIMATE","CLS_EXPANDSTATE","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","nested","isNested","enablePersistence","expandedItems","initExpand","aria-multiselectable","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","ariaAttr","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","lastActiveItemId","begin","progress","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","expandedItem","updateItem","acrdn","changedProp","j","oldVal","newVal","FOCUSED","HEADER","SELECTED","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","DISABLED","HIDE","FieldSettings","MenuItem","MenuBase","navIdx","isTapHold","ejInst","getValue","ul","ngElement","setValue","ejInstance","wrapper","idx","nodeName","nodeValue","getWrapper","isMenu","split","zIndex","getZindexPartial","ListBase","createJsonFromElement","fields","child","setProperties","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","downarrow","uparrow","leftarrow","rightarrow","escape","keyBoardHandler","rippleFn","closeMenu","actionName","actionNeeded","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","pageY","pageX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","li","getField","lastChild","data","ICONS","hdata","hli","getIndex","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","isRelative","offsetParent","Number","replace","x","y","xCollision","yCollision","getBoundingClientRect","boundRect","pageYOffset","pageXOffset","visibility","level","showIcon","hasField","listBaseOptions","moduleName","getFields","itemCreating","curData","clearChanges","itemCreated","span","createList","getLI","showItemOnClick","propName","fieldName","url","field","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","isUniqueId","nIndex","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","ContextMenu","VMENU","Menu","tempItems","map","createMenuItems","orientation","pIdField","record","CLS_HIDDEN","CLS_ICON_CLOSE","CLS_WRAP","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","CLS_PROGRESS","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","animateOptions","animObj","title","lastIndex","delete","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","css","setCssClass","aria-activedescendant","btnCls","CLS_ICONS","attrs","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","hdrItem","contents","reRenderItems","txtWrapEle","tbCount","tItems","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compileElement","prop","templateFUN","compile","getContent","callType","place","list","heightAdjustMode","max","getHeight","cs","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","itemIndex","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","isReplace","refreshActiveBorder","hoverHandler","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","k","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","closeButtonTitle","locale","getConstant","enableTab","addTab","lastEleIndex","addedItems","itemsCount","removeArgs","removedItem","removedIndex","cntTrg","hideTab","selectingItem","selectingIndex","cntItem","arr","isHiddenEle","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","TREEINPUT","DRAGGING","SIBLING","DROPNEXT","DROPOUT","FULLROW","EXPANDED","NODECOLLAPSED","CHECK","INDETERMINATE","CHECKBOXWRAP","CHECKBOXFRAME","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","preventExpand","checkedElement","mouseDownStatus","TreeView_1","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","updateListProp","aniObj","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","initialRender","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","ready","then","offline","treeData","result","isNumberTypeId","getType","setRootData","finalize","executeQuery","getQuery","rootData","JSON","parse","stringify","mapper","query","columns","clone","Query","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","node","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureIndeterminate","autoCheck","liElement","ensureParentCheckState","ensureChildCheckState","indeterminate","checkBoxEle","changeState","parentUL","currentParent","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","hasPid","doExpandAction","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start_1","end_1","proxy_1","ul_1","liEle_1","setHeight","animateHeight","expandedNode","addExpand","expandArgs","getExpandEvent","colArgs","collapsedNode","removeExpand","toRemove","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","loadChild","ensureCheckNode","renderSubChild","getNodeObject","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","allCheckNode","newCheck","childCheck","validateCheck","length_1","childId","check","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","properties","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","triggerEvent","getId","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","enableAutoScroll","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","listItem","getDragEvent","draggedNode","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","preventTargetExpand","dragParent","draggedParentNode","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","dropIndicator","dragInstance","draggable","droppedElement","appendNode","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","updateField","currPid","removeChildNodes","addChildData","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropIndex","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","dm","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","createListItemFromJson","refNode","navigateUrl","nodeId","updated","childObj","doDisableAction","doEnableAction","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","resultData","executeLocal","proxy_2","touchEditObj","tap","tapCount","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","uncheckAll","checkAll","collapseAll","addNodes","dropUl_1","proxy_5","beginEdit","disableNodes","enableNodes","ensureVisible","expandAll","getAllCheckedNodes","checkNodes","childNode","getNode","getTreeData","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","TRASITION","RIGHT","OVER","PUSH","VISIBILITY","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","setEnableRTL","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","z-index","classELement","destroyBackDrop","sibling","showBackdrop","modal","closeArguments","model","changeArguments","transform","setAnimation","openArguments","createBackDrop","getState","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","insertAdjacentElement","elementWidth"],"mappings":"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"}