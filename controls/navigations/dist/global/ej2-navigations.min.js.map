{"version":3,"file":"ej2-navigations.min.js","sources":["../../src/common/h-scroll.js","../../src/toolbar/toolbar.js","../../src/accordion/accordion.js","../../src/common/menu-base.js","../../src/context-menu/context-menu.js","../../src/menu/menu.js","../../src/tab/tab.js","../../src/treeview/treeview.js","../../src/sidebar/sidebar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Touch, Component, EventHandler, selectAll, getUniqueID } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Property, Browser, detach } from '@syncfusion/ej2-base';\nimport { classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     * @param options  - Specifies HScroll model properties as options.\n     * @param element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        overlay.forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        value ? this.element.classList.add(CLS_DISABLE) : this.element.classList.remove(CLS_DISABLE);\n        navEles.forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        ele.forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var element = this.scrollEle;\n        var rootEle = this.element;\n        var classList = trgt.classList;\n        if (classList.contains(CLS_HSCROLLNAV)) {\n            classList = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        var scrlLeft = element.scrollLeft;\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            selectAll('.' + CLS_OVERLAY, this.element).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            if (scrollVal < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollVal -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance;\n        distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n            else {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n                this.arrowDisabling(navRightEle, navLeftEle);\n            }\n            else {\n                this.arrowDisabling(navLeftEle, navRightEle);\n            }\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     * @param  {HScrollModel} newProp\n     * @param  {HScrollModel} oldProp\n     * @returns void\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\nexport { HScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_TBARSCROLL = 'e-hscroll-content';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_ITEM = 'e-extended-item';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     * @param options  - Specifies Toolbar model properties as options.\n     * @param element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            ele.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: true, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyHScroll();\n        this.keyModule.destroy();\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyHScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n            detach(el);\n        });\n        var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyHScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        switch (e.action) {\n            case 'moveRight':\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                var ele = void 0;\n                var nodes = void 0;\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                var value = e.action === 'moveUp' ? 'previous' : 'next';\n                if (popObj && closest(trgt, '.e-popup')) {\n                    var popEle = popObj.element;\n                    var popFrstEle = popEle.firstElementChild;\n                    if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                        return;\n                    }\n                    else {\n                        this.eleFocus(clst, value);\n                    }\n                }\n                else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                    this.elementFocus(clst);\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var clst;\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        value ? rootEle.classList.add(CLS_DISABLE) : rootEle.classList.remove(CLS_DISABLE);\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        var contains = function (el) {\n            return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE);\n        };\n        if (sib) {\n            var skipEle = contains(sib);\n            if (skipEle) {\n                if (Object(sib)[pos + 'ElementSibling']) {\n                    sib = Object(sib)[pos + 'ElementSibling'];\n                    skipEle = contains(sib);\n                    if (skipEle) {\n                        this.eleFocus(sib, pos);\n                        return;\n                    }\n                }\n                else {\n                    return;\n                }\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (contains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var clsList = trgt.classList;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            itemObj = this.items[this.tbarEle.indexOf(clst)];\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs);\n        }\n        if (!isNOU(this.popObj) && isPopupElement && !eventArgs.cancel && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    ;\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.separator();\n        this.wireEvents();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false', 'aria-orientation': 'horizontal',\n        };\n        attributes(this.element, ariaAttr);\n    };\n    Toolbar.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? this.element.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n    };\n    Toolbar.prototype.initHScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl });\n            this.scrollModule.createElement = this.createElement;\n            this.scrollModule.appendTo(innerItems[0]);\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += (el.offsetWidth + parseFloat(style.marginRight) + parseFloat(style.marginLeft));\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = element.offsetWidth;\n        var itemWidth = innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? innerItem.querySelector('.e-hscroll-content') : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        if (itemWidth > eleWidth - (popNav ? popNav.offsetWidth : (scrollNav ? scrollNav.offsetWidth * 2 : 0))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     * @returns void.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initHScroll(ele, ele.getElementsByClassName(CLS_ITEMS));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n                    if (this.tbarAlign) {\n                        this.add(innerItems, CLS_TBARPOS);\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n                        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n                    }\n            }\n        }\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var eleInlineItem;\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var eleWidth = (ele.offsetWidth - (innerNav.offsetWidth));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var eleHeight;\n        var eleItem;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ' )');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_POPUP + ' )');\n        eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : eleItem.offsetHeight;\n        var ele;\n        var popupPri = [];\n        if (element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS)) {\n            ele = element.querySelector('#' + element.id + '_popup.' + CLS_POPUPCLASS);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            popup.hide();\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    };\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        popObj.offsetY = this.getElementOffsetY();\n        popObj.dataBind();\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n    };\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = parseFloat((window.getComputedStyle(inEle[i])).marginRight);\n            mrgn += parseFloat((window.getComputedStyle(inEle[i])).marginLeft);\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            var eleWid_1 = fstEleCheck ? (inEle[i].offsetWidth + mrgn) : inEle[i].offsetWidth;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                itemPopCount++;\n            }\n            if ((inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= (inEle[i].offsetWidth + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var width = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((width + popNav.offsetWidth) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(width, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n            ele.classList.remove('e-toolpop');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(el.style.minWidth);\n            btn.style.minWidth = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var checkOverflow;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                el.style.minWidth = '';\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            innerItem = [].slice.call(item.querySelector('.' + CLS_TBARSCROLL).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        var margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        var tbarWid = this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= popupNav.offsetWidth;\n            var popWid = popupNav.offsetWidth + 'px';\n            innerItem[2].removeAttribute('style');\n            this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - innerItem[1].offsetWidth) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = (innerItem[0].offsetWidth + value) + 'px';\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var itemEleDom;\n        var innerItem;\n        var innerPos;\n        var items = this.items;\n        if (ele && ele.children.length > 0) {\n            itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            for (var i = 0; i < items.length; i++) {\n                innerItem = this.renderSubComponent(items[i], i);\n                if (this.tbarEle.indexOf(innerItem) === -1) {\n                    this.tbarEle.push(innerItem);\n                }\n                if (!this.tbarAlign) {\n                    this.tbarItemAlign(items[i], itemEleDom, i);\n                }\n                innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n                if (innerPos) {\n                    if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                        this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                    }\n                    innerPos.appendChild(innerItem);\n                }\n                else {\n                    itemEleDom.appendChild(innerItem);\n                }\n            }\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     * @param  {HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns void.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (len && len > 1) {\n            for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                var ele = _a[_i];\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE) : addClass(elements, CLS_DISABLE);\n        }\n        else {\n            var ele = void 0;\n            ele = (len && len === 1) ? elements[0] : items;\n            enable(isEnable, ele);\n        }\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     * @param  {ItemsModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns void.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns void.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = void 0;\n                indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            var e = void 0;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                tempArray = templateFn({}, this, 'template');\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        var btnTxt = this.createElement('div', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var innerEle;\n        var dom;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            var tempDom = this.createElement('div', { innerHTML: item.tooltipText });\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyHScroll();\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {ToolbarModel} newProp\n     * @param  {ToolbarModel} oldProp\n     * @returns void\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldProperty = Object(oldProp.items[index])[property];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (this.tbarAlign || property === 'align') {\n                                this.refresh();\n                                break;\n                            }\n                            var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                            var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                            if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                --this.popupPriCount;\n                            }\n                            if (isNOU(this.scrollModule)) {\n                                this.destroyMode();\n                            }\n                            var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                            detach(itemCol[index]);\n                            this.tbarEle.splice(index, 1);\n                            this.addItems([this.items[index]], index);\n                            this.items.splice(index, 1);\n                            if (this.items[index].template) {\n                                this.tbarEle.splice(this.items.length, 1);\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    var wid = tEle.offsetWidth;\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL) : this.remove(tEle, CLS_RTL);\n                    if (!isNOU(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL) : this.remove(this.scrollModule.element, CLS_RTL);\n                    }\n                    if (!isNOU(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL) : this.remove(this.popObj.element, CLS_RTL);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns void.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        if (this.tbarEle[index]) {\n            var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            if (value === true) {\n                innerItems[index].classList.add(CLS_HIDDEN);\n            }\n            else {\n                innerItems[index].classList.remove(CLS_HIDDEN);\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Toolbar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, KeyboardEvents, rippleEffect } from '@syncfusion/ej2-base';\nimport { getUniqueID, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { addClass, isVisible, closest, attributes, classList, detach, select } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Collection, Animation } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, formatUnit, selectAll } from '@syncfusion/ej2-base';\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT = 'e-accordion';\nvar CLS_ITEM = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar AccordionActionSettings = /** @class */ (function (_super) {\n    __extends(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\nexport { AccordionActionSettings };\nvar AccordionAnimationSettings = /** @class */ (function (_super) {\n    __extends(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\nexport { AccordionAnimationSettings };\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @class */ (function (_super) {\n    __extends(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(undefined)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    return AccordionItem;\n}(ChildProperty));\nexport { AccordionItem };\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @class */ (function (_super) {\n    __extends(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     * @param options  - Specifies Accordion model properties as options.\n     * @param element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end',\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     * @returns void\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n        while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n        }\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstChild) {\n                ele.appendChild(this.ctrlTem.firstChild);\n            }\n        }\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNOU(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n        if (!this.enablePersistence || isNOU(this.expandedItems)) {\n            this.expandedItems = [];\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     * @private\n     */\n    Accordion.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyle(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (this.expandedItems.length > 0) {\n            this.initExpand = this.expandedItems;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNOU(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles = this.element.children;\n        var content;\n        addClass([].slice.call(innerEles), [CLS_ITEM]);\n        [].slice.call(innerEles).forEach(function (el) {\n            el.id = getUniqueID('acrdn_item');\n            if (el.children.length > 0) {\n                _this.add(el.children[0], CLS_HEADER);\n                var header = el.children[0];\n                attributes(header, { 'tabindex': '0', 'role': 'heading', 'aria-level': innerEles.length.toString() });\n                header.id = getUniqueID('acrdn_header');\n                EventHandler.add(header, 'focus', _this.focusIn, _this);\n                EventHandler.add(header, 'blur', _this.focusOut, _this);\n                var headerEle = header.firstElementChild;\n                if (headerEle) {\n                    headerEle.classList.add(CLS_HEADERCTN);\n                }\n                content = el.children[1];\n                if (content) {\n                    content.id = getUniqueID('acrdn_panel');\n                    header.setAttribute('aria-controls', content.id);\n                    content.style.display = '';\n                    el.classList.add(CLS_SLCT);\n                    el.children[0].appendChild(_this.toggleIconGenerate());\n                    classList(content, [CLS_CONTENT, CLS_CTNHIDE], []);\n                    attributes(content, { 'aria-labelledby': header.id, 'aria-hidden': 'true' });\n                    content = content.firstElementChild;\n                    if (content) {\n                        content.classList.add(CLS_CTENT);\n                        content.style.display = '';\n                    }\n                }\n            }\n        });\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        if (isNOU(this.initExpand)) {\n            this.initExpand = [];\n        }\n        var items = this.items;\n        if (!isNOU(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            items.forEach(function (item, index) {\n                innerItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerItem);\n                if (innerItem.childElementCount > 0) {\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var eventArgs = {};\n        var index;\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNOU(acrdnHdr) || isNOU(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM);\n        }\n        var acrdActive = [];\n        index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = this.items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNOU(tglIcon) && isNOU(this.trgtEle) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNOU(acrdnCtn) || !isNOU(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n        }\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNOU(select('.e-target', acrdnCtn)));\n        cntclkCheck = cntclkCheck && (isNOU(select('.' + CLS_ROOT, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT) === this.element));\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        [].slice.call(this.element.children).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNOU(acrdnItem) && !isNOU(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNOU(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNOU(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNOU(header) && !trgt.classList.contains(CLS_ROOT) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNOU(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-expanded': 'false', 'aria-selected': 'false',\n            'aria-disabled': 'false', 'aria-level': this.items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle;\n        innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (item.header) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNOU(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            innerEle.classList.add(item.cssClass);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNOU(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length) {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            templateFn = templateCompiler(value);\n        }\n        var tempArray;\n        if (!isNOU(templateFn)) {\n            tempArray = templateFn();\n        }\n        if (!isNOU(tempArray) && tempArray.length > 0 && !(isNOU(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNOU(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = value;\n        }\n        if (!isNOU(temString)) {\n            this.templateEle.push(value);\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var content = this.items[index].content;\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        itemcnt.appendChild(this.fetchElement(ctn, content, index, false));\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: true };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        icon.classList.add(CLS_TOGANIMATE);\n        this.expandedItemsPush(trgtItemEle);\n        if (!isNOU(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        if ((animation.name === 'None')) {\n            this.expandProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.expandProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.expandAnimation(eff, icon, trgt, trgtItemEle, animation, eventArgs);\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHgt;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgtHgt = trgt.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyle(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedItems.indexOf(index) === -1) {\n            this.expandedItems.push(index);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        return [].slice.call(this.element.children).indexOf(item);\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        this.expandedItems.splice(this.expandedItems.indexOf(index), 1);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var eventArgs;\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM);\n        if (isNOU(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing,\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        eventArgs = { element: trgtItemEle,\n            item: this.items[this.getIndexByItem(trgtItemEle)],\n            isExpanded: false };\n        var eff = animation.name;\n        this.trigger('expanding', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.expandedItemsPop(trgtItemEle);\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n        if ((animation.name === 'None')) {\n            this.collapseProgress('begin', icon, trgt, trgtItemEle, eventArgs);\n            this.collapseProgress('end', icon, trgt, trgtItemEle, eventArgs);\n            return;\n        }\n        this.collapseAnimation(eff, trgt, trgtItemEle, icon, animation, eventArgs);\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyle(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var itemEle = [].slice.call(this.element.children);\n        var itemLen = this.items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     * @param  {AccordionItemModel} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns void\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var ele = this.element;\n        if (isNOU(index)) {\n            index = this.items.length;\n        }\n        if (ele.childElementCount >= index) {\n            this.items.splice(index, 0, item);\n            var innerItemEle = this.renderInnerItem(item, index);\n            if (ele.childElementCount === index) {\n                ele.appendChild(innerItemEle);\n            }\n            else {\n                ele.insertBefore(innerItemEle, ele.children[index]);\n            }\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n            EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n            this.itemAttribUpdate();\n        }\n        this.expandedItems = [];\n        this.expandedItemRefresh(ele);\n        if (item.expanded) {\n            this.expandItem(true, index);\n        }\n    };\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        [].slice.call(ele.children).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns void.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        detach(ele);\n        this.items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedItems = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns void.\n     */\n    Accordion.prototype.select = function (index) {\n        var ele = this.element.children[index];\n        if (isNOU(ele) || isNOU(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {Boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     *  If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns void.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        if (isNOU(isHidden)) {\n            isHidden = true;\n        }\n        isHidden ? this.add(ele, CLS_ITEMHIDE) : this.remove(ele, CLS_ITEMHIDE);\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns void.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var ele = this.element.children[index];\n        if (isNOU(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     *  Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns void.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var root = this.element;\n        if (isNOU(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = root.children[root.childElementCount - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(this.element.children).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = this.element.children[index];\n            if (isNOU(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        if (isNOU(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n        }\n        else if (isNOU(ctn)) {\n            return;\n        }\n        isExpand ? this.expand(ctn) : this.collapse(ctn);\n    };\n    Accordion.prototype.destroyItems = function () {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNOU(item)) {\n            var itemObj = this.items[index];\n            this.items.splice(index, 1);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {AccordionModel} newProp\n     * @param  {AccordionModel} oldProp\n     * @returns void\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            if (property === 'header' || property === 'iconCss' || property === 'expanded') {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNOU(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'content' && !isNOU(item) && item.children.length === 2) {\n                                if (item.classList.contains(CLS_SLCTED)) {\n                                    this.expandItem(false, index);\n                                }\n                                detach(item.querySelector('.' + CLS_CONTENT));\n                            }\n                        }\n                    }\n                    else {\n                        this.destroyItems();\n                        this.renderItems();\n                        this.initItemExpand();\n                    }\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(acrdn, CLS_RTL) : this.remove(acrdn, CLS_RTL);\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyle(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedItems.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\nexport { Accordion };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { attributes, Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible, Complex, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { getZindexPartial, calculatePosition, isCollide, fit } from '@syncfusion/ej2-popups';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * @private\n * Base class for Menu and ContextMenu components.\n */\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     * @private\n     */\n    MenuBase.prototype.preRender = function () {\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n            this.element.style.display = 'none';\n            this.element.classList.remove('e-' + this.getModuleName());\n            this.element.classList.remove('e-control');\n            var ejInst = getValue('ej2_instances', this.element);\n            var ul = this.createElement('ul');\n            this.ngElement = this.element;\n            this.element = ul;\n            this.element.classList.add('e-control');\n            this.element.classList.add('e-' + this.getModuleName());\n            setValue('ej2_instances', ejInst, this.element);\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            wrapper.style.display = 'block';\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.ngElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    MenuBase.prototype.render = function () {\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        attributes(this.element, { 'role': this.isMenu ? 'menubar' : 'menu', 'tabindex': '0' });\n        wrapper.appendChild(this.element);\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            this.element.innerHTML = '';\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                }\n                else {\n                    EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                }\n            }\n            this.targetElement = target;\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(wrapper, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()) {\n            this.closeMenu(this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var actionNeeded = this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n        e.preventDefault();\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                this.rightEnterKeyHandler(e);\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                e.action === DOWNARROW ? fliIdx++ : fliIdx--;\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            ((action === DOWNARROW) || (action === RIGHTARROW)) ? index++ : index--;\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var wrapper = this.getWrapper();\n        var cul = wrapper.children[this.navIdx.length];\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var index = void 0;\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.openMenu(fli, item, null, null, e);\n                fli.classList.remove(FOCUSED);\n                fli.classList.add(SELECTED);\n                if (e.action === ENTER) {\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                }\n                fli.focus();\n                cul = wrapper.children[this.navIdx.length];\n                index = this.isValidLI(cul.children[0], 0, e.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n            else {\n                if (e.action === ENTER) {\n                    fli.classList.remove(FOCUSED);\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            var wrapper = this.getWrapper();\n            this.closeMenu(this.navIdx.length, e);\n            var cul = wrapper.children[this.navIdx.length];\n            var sli = this.getLIByClass(cul, SELECTED);\n            if (sli) {\n                sli.setAttribute('aria-expanded', 'false');\n                sli.classList.remove(SELECTED);\n                sli.classList.add(FOCUSED);\n                sli.focus();\n            }\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.closeMenu(null, e);\n        if (this.canOpen(e.target)) {\n            if (e.changedTouches) {\n                this.openMenu(null, null, e.changedTouches[0].pageY + 1, e.changedTouches[0].pageX + 1, e);\n            }\n            else {\n                this.openMenu(null, null, e.pageY + 1, e.pageX + 1, e);\n            }\n        }\n    };\n    MenuBase.prototype.closeMenu = function (ulIndex, e) {\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var ul = void 0;\n            var sli = void 0;\n            var item = void 0;\n            var items = void 0;\n            var closeArgs = void 0;\n            var beforeCloseArgs = void 0;\n            var wrapper = this.getWrapper();\n            for (var cnt = wrapper.childElementCount; cnt > ulIndex; cnt--) {\n                ul = wrapper.children[cnt - 1];\n                if (this.isMenu && ul.classList.contains('e-menu')) {\n                    sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    break;\n                }\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false };\n                this.trigger('beforeClose', beforeCloseArgs);\n                if (!beforeCloseArgs.cancel) {\n                    this.toggleAnimation(ul, false);\n                    this.navIdx.length = ulIndex ? ulIndex - 1 : ulIndex;\n                    closeArgs = { element: ul, parentItem: item, items: items };\n                    this.trigger('onClose', closeArgs);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = target.classList.length; i < len; i++) {\n                if (filter.indexOf(target.classList[i]) > -1) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var ul;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        if (li) {\n            ul = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], null, data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                ul.insertBefore(hli, ul.children[0]);\n            }\n            ul.style.zIndex = this.element.style.zIndex;\n            wrapper.appendChild(ul);\n        }\n        else {\n            ul = this.element;\n            ul.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        }\n        navIdx = this.getIndex(li ? li.id : null, true);\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left\n        };\n        this.trigger('beforeOpen', eventArgs);\n        top = eventArgs.top;\n        left = eventArgs.left;\n        if (eventArgs.cancel) {\n            this.navIdx.pop();\n        }\n        else {\n            this.setPosition(li, ul, top, left);\n            this.toggleAnimation(ul);\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (!isNullOrUndefined(left) && !isNullOrUndefined(top))) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top - 20;\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                left = offset.left;\n            }\n        }\n        else {\n            var offset = void 0;\n            var isRelative = this.isMenu && this.element.offsetParent.tagName !== 'BODY';\n            if (!this.isMenu && Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = 'right';\n                var y = 'top';\n                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                    x = this.enableRtl ? 'right' : 'left';\n                    y = 'bottom';\n                }\n                else {\n                    x = this.enableRtl ? 'left' : 'right';\n                }\n                offset = calculatePosition(li, x, y);\n                top = offset.top;\n                left = offset.left;\n            }\n            var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n            var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            var yCollision = collide.indexOf('bottom') > -1;\n            if (xCollision) {\n                offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                left = offset.left;\n            }\n            if (this.enableRtl || xCollision) {\n                left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                if (this.isMenu && xCollision && !this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx.length < 2) {\n                    left = this.enableRtl ? left - li.getBoundingClientRect().width : left + li.getBoundingClientRect().width;\n                }\n            }\n            if (yCollision) {\n                offset = fit(ul, null, { X: false, Y: true }, { top: top, left: left });\n                top = offset.top;\n            }\n            collide = isCollide(ul, null, left, top);\n            xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n            if (xCollision) {\n                offset = fit(ul, null, { X: true, Y: false }, { top: top, left: left });\n                top = offset.top;\n                left = offset.left;\n            }\n            if (isRelative) {\n                var boundRect = ul.offsetParent.getBoundingClientRect();\n                top -= boundRect.top + pageYOffset;\n                left -= boundRect.left + pageXOffset;\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        if (this.isMenu) {\n            if (this.element.classList.contains('e-vertical') && this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                top = top - 1;\n            }\n            else {\n                if (this.navIdx && this.navIdx[this.navIdx.length - 1] === 0) {\n                    if (this.navIdx.length === 1) {\n                        left = left - 1;\n                    }\n                    else {\n                        top = top - 1;\n                    }\n                }\n            }\n        }\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var id = 'id';\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: this.getFields(level),\n            template: this.template,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[id]]) {\n                    args.curData[args.fields[id]] = getUniqueID('menuitem');\n                    _this.clearChanges();\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.getLI(trgt);\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper')) {\n            var fli = select('.' + FOCUSED, wrapper);\n            if (fli) {\n                fli.classList.remove(FOCUSED);\n            }\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        if (this.isMenu && trgt.parentElement !== wrapper && !cli && this.navIdx.length) {\n            this.closeMenu(null, e);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.getLI(trgt);\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && wrapper.firstElementChild.id === cliWrapper.firstElementChild.id;\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        var showSubMenu = true;\n                        var cul = cli.parentNode;\n                        var cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === cliIdx) {\n                                showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                            }\n                        }\n                        if (showSubMenu) {\n                            var idx = this.navIdx.concat(cliIdx);\n                            var item = this.getItem(idx);\n                            if (item[this.getField('children', idx.length - 1)] &&\n                                item[this.getField('children', idx.length - 1)].length) {\n                                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                                    this.setLISelected(cli);\n                                }\n                                cli.setAttribute('aria-expanded', 'true');\n                                this.navIdx.push(cliIdx);\n                                if (this.isMenu && !this.element.classList.contains('e-vertical') && this.navIdx.length < 2) {\n                                    var collision = isCollide(cli, this.element);\n                                    if (collision.length) {\n                                        var boundRect = cli.getBoundingClientRect();\n                                        this.element.scroll((collision.indexOf('right') > -1 ? boundRect.right : boundRect.left), 0);\n                                    }\n                                }\n                                this.openMenu(cli, item, null, null, e);\n                            }\n                            else {\n                                if (e.type !== 'mouseover') {\n                                    this.closeMenu(null, e);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (trgt.tagName !== 'UL' || trgt.parentElement !== wrapper) {\n                    if (!cli || !cli.querySelector('.' + CARET)) {\n                        this.closeMenu(null, e);\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        li.classList.remove(FOCUSED);\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuBaseModel} newProp\n     * @param {MenuBaseModel} oldProp\n     * @returns void\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'items':\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    var keys = Object.keys(newProp.items);\n                    for (var i = 0; i < keys.length; i++) {\n                        navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                        if (navIdx.length <= this.getWrapper().children.length) {\n                            idx = navIdx.pop();\n                            item = this.getItems(navIdx);\n                            this.insertAfter([item[idx]], item[idx].text);\n                            this.removeItem(item, navIdx, idx);\n                        }\n                        navIdx.length = 0;\n                    }\n                    break;\n            }\n        }\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            this.getChangedItemIndex(item, index, Number(Object.keys(item.items).pop()));\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     * @private\n     */\n    MenuBase.prototype.unWireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (Browser.isIos) {\n                    touchModule = getInstance(target, Touch);\n                    if (touchModule) {\n                        touchModule.destroy();\n                    }\n                }\n                else {\n                    EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                }\n            }\n            for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        var keyboardModule = getInstance(wrapper, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n        this.rippleFn();\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    options.element.style.display = 'block';\n                    options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                },\n                end: function (options) {\n                    _this.end(options.element, isMenuOpen);\n                }\n            });\n        }\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n            var eventArgs = {\n                element: ul, parentItem: item, items: item ? item.items : this.items\n            };\n            this.trigger('onOpen', eventArgs);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = void 0;\n                ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     * @returns Element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     * @param items Text items that needs to be enabled/disabled.\n     * @param enable Set `true`/`false` to enable/disable the list items.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be shown.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     * @param items Text items that needs to be hidden.\n     * @returns void\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        var wrapper = this.getWrapper();\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = wrapper.children[navIdx.length];\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     * @param items Text items that needs to be removed.\n     * @returns void\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item after that the element to be inserted.\n     * @returns void\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     * @param items Items that needs to be inserted.\n     * @param text Text item before that the element to be inserted.\n     * @param isUniqueId - Set `true` if it is a unique id.\n     * @returns void\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        var showIcon;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.getWrapper().children;\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                showIcon = this.hasField(iitems, this.getField('iconCss', navIdx.length - 1));\n                li = this.createItems(iitems).children[idx];\n                uls[navIdx.length].insertBefore(li, uls[navIdx.length].children[idx]);\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     * @returns void\n     */\n    MenuBase.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            _super.prototype.destroy.call(this);\n            this.unWireEvents();\n            if (this.ngElement && !this.isMenu) {\n                this.ngElement.style.display = 'block';\n            }\n            else {\n                this.closeMenu();\n                this.element.innerHTML = '';\n                ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n                    _this.element.style.removeProperty(key);\n                });\n                ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n                    if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                        _this.element.classList.remove('e-menu-parent');\n                    }\n                    if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                        _this.element.removeAttribute(key);\n                    }\n                    if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                        _this.element.classList.remove('e-vertical');\n                    }\n                });\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n            }\n            if (this.isMenu && this.ngElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n        }\n    };\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate([\n        Property({ duration: 400, easing: 'ease', effect: 'SlideDown' })\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\nexport { MenuBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { MenuBase, MenuItem } from '../common/menu-base';\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     * @private\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     * @param top - To specify ContextMenu vertical positioning.\n     * @param left - To specify ContextMenu horizontal positioning.\n     * @param target - To calculate z-index for ContextMenu based upon the specified target.\n     * @method open\n     * @returns void\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {ContextMenuModel} newProp\n     * @param {ContextMenuModel} oldProp\n     * @returns void\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents();\n                    this.target = newProp.target;\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\nexport { ContextMenu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Browser, Complex } from '@syncfusion/ej2-base';\nimport { MenuBase, FieldSettings } from '../common/menu-base';\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    /**\n     * Constructor for creating the component.\n     * @private\n     */\n    function Menu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.tempItems = [];\n        return _this;\n    }\n    /**\n     * Get module name.\n     * @returns string\n     * @private\n     */\n    Menu.prototype.getModuleName = function () {\n        return 'menu';\n    };\n    /**\n     * For internal use only - prerender processing.\n     * @private\n     */\n    Menu.prototype.preRender = function () {\n        this.isMenu = true;\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n        }\n        else {\n            this.tempItems = this.items;\n            this.items = [];\n            this.tempItems.map(this.createMenuItems, this);\n            this.setProperties({ items: this.items }, true);\n            this.tempItems = [];\n        }\n        _super.prototype.preRender.call(this);\n    };\n    Menu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice) {\n                this.element.classList.add(SCROLLABLE);\n            }\n        }\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     * @param {MenuModel} newProp\n     * @param {MenuModel} oldProp\n     * @returns void\n     */\n    Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n            }\n        }\n    };\n    Menu.prototype.createMenuItems = function (item, index) {\n        var pIdField;\n        var record = { items: [] };\n        var idx;\n        var i;\n        var items = this.items;\n        var fields = ['itemId', 'text', 'iconCss', 'url', 'separator', 'children'];\n        pIdField = this.getField('parentId');\n        for (i = 0; i < fields.length; i++) {\n            var field = this.getField(fields[i]);\n            if (item[field]) {\n                record[field] = item[field];\n            }\n        }\n        if (item[pIdField]) {\n            idx = this.getIndex(item[pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(record);\n        }\n        else {\n            this.items.push(record);\n        }\n    };\n    __decorate([\n        Property('Horizontal')\n    ], Menu.prototype, \"orientation\", void 0);\n    __decorate([\n        Property(null)\n    ], Menu.prototype, \"template\", void 0);\n    __decorate([\n        Complex({}, FieldSettings)\n    ], Menu.prototype, \"fields\", void 0);\n    Menu = __decorate([\n        NotifyPropertyChanges\n    ], Menu);\n    return Menu;\n}(MenuBase));\nexport { Menu };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, closest, Collection, Complex, attributes, detach } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, select, isVisible } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Browser, formatUnit, L10n } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, isNullOrUndefined as isNOU, selectAll } from '@syncfusion/ej2-base';\nimport { EventHandler, rippleEffect, Touch, compile, Animation } from '@syncfusion/ej2-base';\nimport { Toolbar } from '../toolbar/toolbar';\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER = 'e-tab-header';\nvar CLS_CONTENT = 'e-content';\nvar CLS_NEST = 'e-nested';\nvar CLS_ITEMS = 'e-items';\nvar CLS_ITEM = 'e-item';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_RTL = 'e-rtl';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_DISABLE = 'e-disable';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY = 'e-overlay';\nvar TabActionSettings = /** @class */ (function (_super) {\n    __extends(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\nexport { TabActionSettings };\nvar TabAnimationSettings = /** @class */ (function (_super) {\n    __extends(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\nexport { TabAnimationSettings };\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @class */ (function (_super) {\n    __extends(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\nexport { Header };\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @class */ (function (_super) {\n    __extends(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    return TabItem;\n}(ChildProperty));\nexport { TabItem };\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @class */ (function (_super) {\n    __extends(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     * @param options  - Specifies Tab model properties as options.\n     * @param element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = { name: 'SlideDown', duration: 100 };\n        _this.hide = { name: 'SlideUp', duration: 100 };\n        _this.animateOptions = {};\n        _this.animObj = new Animation(_this.animateOptions);\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.lastIndex = 0;\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     * @returns void\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (!isNOU(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            this.element.innerHTML = '';\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            this.element.classList.remove(CLS_TEMPLATE);\n            if (!isNOU(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Initialize component\n     * @private\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNOU(nested)) {\n            nested.parentElement.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyle(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n    };\n    /**\n     * Initialize the component rendering\n     * @private\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE);\n            var header = ele.querySelector('.' + CLS_HEADER);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNOU(select('.' + CLS_HEADER, this.element)) && !isNOU(select('.' + CLS_CONTENT, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNOU(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN + ' ' + CLS_IGNORE });\n                var scrCnt = select('.e-hscroll-content', this.tbItems);\n                if (!isNOU(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var tabItems = [];\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                this.hdrEle.innerHTML = '';\n                this.hdrEle.appendChild(this.createElement('div', { className: CLS_ITEMS }));\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM, id: CLS_ITEM + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    select('.' + CLS_ITEMS, _this.element).appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM, _this.element)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: '100%',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this)\n        });\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.element, { 'aria-orientation': 'horizontal' });\n        this.setCloseButton(this.showCloseButton);\n        this.setProperties({ headerPlacement: (this.element.children.item(0).classList.contains(CLS_HEADER)) ? 'Top' : 'Bottom' }, true);\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    contents.item(i).className += CLS_ITEM;\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + i });\n                    contents.item(i).id = CLS_CONTENT + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        var tItems = [];\n        var txtWrapEle;\n        items.forEach(function (item, i) {\n            if (isNOU(item.header) || isNOU(item.header.text)) {\n                _this.items.splice(i, 0);\n                return;\n            }\n            var pos = (isNOU(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNOU(item.header.iconCss)) ? '' : item.header.iconCss;\n            var txt = item.header.text;\n            _this.lastIndex = ((tbCount === 0) ? i : ((_this.isReplace) ? (index + i) : (_this.lastIndex + 1)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE + ' ' + CLS_OVERLAY : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNOU(tHtml) && tHtml !== '');\n            if (!isNOU(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt === '' || txt === undefined) && css === '') {\n                return;\n            }\n            else {\n                if ((txt !== '' && txt !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tCont.insertBefore(icon, tCont.firstElementChild);\n                    }\n                    else {\n                        tCont.appendChild(icon);\n                    }\n                    tEle = txtWrapEle;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrapEle : icon);\n                    if (tEle === icon) {\n                        detach(txtWrapEle);\n                        tCont.appendChild(icon);\n                    }\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = item.cssClass + ' ' + disabled + ' ' + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n        });\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function (id) {\n        var hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element)[0];\n        if (this.headerPlacement === 'Bottom') {\n            hdrActEle = selectAll(':root .' + CLS_HEADER + ' .' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1])[0];\n        }\n        if (!isNOU(hdrActEle)) {\n            hdrActEle.classList.remove(CLS_ACTIVE);\n            var no = this.extIndex(hdrActEle.id);\n            var trg = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        if ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele.cloneNode(true), selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n            ele.outerHTML = '';\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNOU(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            this.tbItems.appendChild(target.cloneNode(true));\n            this.actEleId = target.id;\n            target.outerHTML = '';\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER, this.element);\n        (val === true) ? trg.classList.add(CLS_CLOSE_SHOW) : trg.classList.remove(CLS_CLOSE_SHOW);\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = { name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = { name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNOU(animateObj)) {\n            animateObj.begin = function () {\n                setStyle(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyle(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT).children);\n        var oldCnt;\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var no = this.extIndex(this.tbItem[this.selectedItem].id);\n        var newCnt = this.getTrgContent(this.cntEle, no);\n        if (isNOU(oldCnt) && !isNOU(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        this.prevActiveEle = newCnt.id;\n        if (this.initRender || value === false || this.animation === {} || isNOU(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE);\n        };\n        if (!this.initRender && !isNOU(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNOU(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNOU(trgParent) && trgParent.classList.contains(CLS_ACTIVE) === false) {\n                this.select(trgIndex);\n                if (!isNOU(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNOU(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content');\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop) {\n        if (typeof val === 'string') {\n            val = val.trim();\n        }\n        var templateFn = compile(val);\n        var templateFUN;\n        if (!isNOU(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNOU(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text) {\n        this.compileElement(element, text, 'headerText');\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType) {\n        var eleStr;\n        if (typeof cnt === 'string' || isNOU(cnt.innerHTML)) {\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNOU(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST)) {\n            ele = select('.' + CLS_NEST + '> .' + CLS_CONTENT + ' > #' + CLS_CONTENT + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        (place === 'Bottom') ? this.element.appendChild(ele) : this.element.insertBefore(ele, select('.' + CLS_CONTENT, this.element));\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (isNOU(this.cntEle)) {\n            return;\n        }\n        var height;\n        var hdrEle = select('.' + CLS_HEADER, this.element);\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                setStyle(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            setStyle(this.element, { 'height': '100%' });\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            var cnt = selectAll('.' + CLS_CONTENT + ' > .' + CLS_ITEM, this.element);\n            if (this.isTemplate === true) {\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT + '_' + 0), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render');\n                ele.classList.remove(CLS_ACTIVE);\n            }\n            setStyle(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyle(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE, this.element.children[1]);\n        }\n        if (trg === null) {\n            return;\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        var hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[0]);\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var bar = select('.' + CLS_HEADER + ' .' + CLS_INDICATOR, this.element);\n        if (this.headerPlacement === 'Bottom') {\n            hsCnt = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS + ' .e-hscroll-content', this.element.children[1]);\n        }\n        var tbWidth = (isNOU(hsCnt)) ? this.tbItems.offsetWidth : hsCnt.offsetWidth;\n        if (tbWidth !== 0) {\n            setStyle(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n        }\n        else {\n            setStyle(bar, { 'left': 'auto', 'right': 'auto' });\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN);\n        }\n    };\n    Tab.prototype.setActive = function (value) {\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        var trg = this.tbItem[value];\n        if (value >= 0) {\n            this.setProperties({ selectedItem: value }, true);\n        }\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNOU(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass(id);\n        trg.classList.add(CLS_ACTIVE);\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNOU(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT, this.element).children, CLS_CONTENT + '_' + no);\n                if (!isNOU(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNOU(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT + '_' + this.extIndex(id), className: CLS_ITEM + ' ' + CLS_ACTIVE,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render');\n            }\n            else {\n                item.classList.add(CLS_ACTIVE);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        var curActItem = select('.' + CLS_HEADER + ' #' + id, this.element);\n        this.refreshItemVisibility(curActItem);\n        curActItem.firstChild.focus();\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: trg,\n            selectedIndex: value,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.wireEvents = function () {\n        window.addEventListener('resize', this.refreshActElePosition.bind(this));\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNOU(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        this.keyModule.destroy();\n        this.tabKeyModule.destroy();\n        if (!isNOU(this.cntEle)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.refreshActElePosition.bind(this));\n        this.element.removeEventListener('mouseover', this.hoverHandler.bind(this));\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNOU(trgParent) && trgIndex !== this.selectedItem) {\n                this.select(trgIndex);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNOU(e.originalEvent.changedTouches)) {\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains('e-hidden')) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER);\n            if (!isNOU(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var actEle = select('.' + CLS_HEADER + ' .' + CLS_ACTIVE, this.element);\n        var tabItem = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element);\n        this.popEle = select('.' + CLS_HEADER + ' .' + CLS_TB_POP, this.element);\n        if (!isNOU(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n                if (!isNOU(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNOU(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n                if (this.showCloseButton === true && !isNOU(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNOU(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshActElePosition = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE, this.element);\n        if (!isNOU(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.e-hscroll-content', this.tbItems);\n        if (!isNOU(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNOU(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns void.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE, CLS_OVERLAY);\n            tbItems.firstChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNOU(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     * @param  {TabItemsModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns void.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        if (!this.isReplace) {\n            this.trigger('adding', { addedItems: items });\n        }\n        this.hdrEle = select('.' + CLS_HEADER, this.element);\n        if (isNOU(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            return;\n        }\n        var itemsCount = selectAll('.' + CLS_TB_ITEM, this.element).length;\n        if (itemsCount !== 0) {\n            lastEleIndex = this.lastIndex + 1;\n        }\n        if (isNOU(index)) {\n            index = itemsCount - 1;\n        }\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n            return;\n        }\n        if (itemsCount === 0 && !isNOU(this.hdrEle)) {\n            this.hdrEle.style.display = '';\n        }\n        if (!isNOU(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN);\n        }\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        var tabItems = this.parseObject(items, index);\n        items.forEach(function (item, place) {\n            _this.items.splice((index + place), 0, item);\n            if (_this.isTemplate && !isNOU(item.header) && !isNOU(item.header.text)) {\n                var no = lastEleIndex + place;\n                var ele = _this.createElement('div', {\n                    id: CLS_CONTENT + '_' + no, className: CLS_ITEM, attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM + '_' + no }\n                });\n                _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                _this.getContent(eleTrg, item.content, 'render');\n            }\n        });\n        this.tbObj.addItems(tabItems, index);\n        if (!this.isReplace) {\n            this.trigger('added', { addedItems: items });\n        }\n        if (this.selectedItem === index) {\n            this.select(index);\n        }\n        else {\n            this.setActiveBorder();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns void.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        var removeArgs = { removedItem: trg, removedIndex: index };\n        this.trigger('removing', removeArgs);\n        if (isNOU(trg)) {\n            return;\n        }\n        this.tbObj.removeItems(index);\n        this.items.splice(index, 1);\n        this.itemIndexArray.splice(index, 1);\n        this.refreshActiveBorder();\n        var cntTrg = select('#' + CLS_CONTENT + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT, this.element));\n        if (!isNOU(cntTrg)) {\n            detach(cntTrg);\n        }\n        this.trigger('removed', removeArgs);\n        if (trg.classList.contains(CLS_ACTIVE)) {\n            index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n            this.enableAnimation = false;\n            this.selectedItem = index;\n            this.select(index);\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n            this.hdrEle.style.display = 'none';\n        }\n        this.enableAnimation = true;\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns void.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNOU(item)) {\n            return;\n        }\n        if (isNOU(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains('e-hidden')) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains('e-hidden')) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains('e-hidden')) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN + ')', this.tbItems);\n            if (items.length === 0) {\n                this.select(index);\n            }\n            item.classList.remove(CLS_HIDDEN);\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @returns void.\n     */\n    Tab.prototype.select = function (args) {\n        this.tbItems = select('.' + CLS_HEADER + ' .' + CLS_TB_ITEMS, this.element);\n        this.tbItem = selectAll('.' + CLS_HEADER + ' .' + CLS_TB_ITEM, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        var trg = this.tbItem[args];\n        if (!isNOU(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectingItem: trg,\n            selectingIndex: args,\n            isSwiped: this.isSwipeed\n        };\n        if (!this.initRender || this.selectedItem !== 0) {\n            this.trigger('selecting', eventArg);\n        }\n        if (eventArg.cancel) {\n            return;\n        }\n        if (typeof args === 'number') {\n            if (!isNOU(this.tbItem[args]) && this.tbItem[args].classList.contains(CLS_DISABLE)) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns void.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     * @param  {TabModel} newProp\n     * @param  {TabModel} oldProp\n     * @returns void\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyle(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyle(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(this.element, newProp.cssClass, true);\n                    break;\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProp.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM + '_' + index, this.element);\n                            var cntItem = select('.' + CLS_CONTENT + ' #' + CLS_CONTENT + '_' + index, this.element);\n                            if (property === 'header') {\n                                var arr = [];\n                                arr.push(this.items[index]);\n                                this.items.splice(index, 1);\n                                this.itemIndexArray.splice(index, 1);\n                                this.tbObj.items.splice(index, 1);\n                                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN);\n                                detach(hdrItem);\n                                this.isReplace = true;\n                                this.addTab(arr, index);\n                                if (isHiddenEle) {\n                                    this.hideTab(index);\n                                }\n                                this.isReplace = false;\n                            }\n                            if (property === 'content' && !isNOU(cntItem)) {\n                                var strVal = typeof newVal === 'string' || isNOU(newVal.innerHTML);\n                                if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                                    var eleVal = document.querySelector(newVal);\n                                    cntItem.appendChild(eleVal);\n                                    eleVal.style.display = '';\n                                }\n                                else if (newVal === '' && oldVal[0] === '#') {\n                                    document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                                    cntItem.innerHTML = newVal;\n                                }\n                                else {\n                                    cntItem.innerHTML = newVal;\n                                }\n                            }\n                            if (property === 'cssClass') {\n                                if (!isNOU(hdrItem)) {\n                                    hdrItem.classList.remove(oldVal);\n                                    hdrItem.classList.add(newVal);\n                                }\n                                if (!isNOU(cntItem)) {\n                                    cntItem.classList.remove(oldVal);\n                                    cntItem.classList.add(newVal);\n                                }\n                            }\n                            if (property === 'disabled') {\n                                this.enableTab(index, ((newVal === true) ? false : true));\n                            }\n                        }\n                    }\n                    else {\n                        this.lastIndex = 0;\n                        if (isNOU(this.tbObj)) {\n                            this.reRenderItems();\n                        }\n                        else {\n                            this.setItems(newProp.items);\n                            if (this.templateEle.length > 0) {\n                                this.expTemplateContent();\n                            }\n                            this.templateEle = [];\n                            select('.' + CLS_TAB + ' > .' + CLS_CONTENT, this.element).innerHTML = '';\n                            this.select(this.selectedItem);\n                        }\n                    }\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    var tempHdrEle = select('.' + CLS_HEADER, this.element);\n                    this.setOrientation(newProp.headerPlacement, tempHdrEle);\n                    this.select(this.selectedItem);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\nexport { Tab };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar CONTENT = 'e-content';\nvar DOWNTAIL = 'e-downtail';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: '',\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     * @returns string\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.index = 0;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNOU(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @returns string\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding();\n        this.setExpandOnType();\n        this.setRipple();\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEvents();\n        this.initialRender = false;\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true,\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        isEnabled ? addClass([this.element], FULLROWWRAP) : removeClass([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function () {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then(function (e) {\n                    if (_this.fields.dataSource instanceof DataManager && _this.fields.dataSource.dataSource.offline) {\n                        _this.treeList.pop();\n                        _this.treeData = e.result;\n                        _this.isNumberTypeId = _this.getType();\n                        _this.setRootData();\n                        _this.renderItems(true);\n                        if (_this.treeList.length === 0 && !_this.isLoaded) {\n                            _this.finalize();\n                        }\n                    }\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                    _this.treeList.pop();\n                    _this.treeData = e.result;\n                    _this.isNumberTypeId = _this.getType();\n                    _this.setRootData();\n                    _this.renderItems(true);\n                    if (_this.treeList.length === 0 && !_this.isLoaded) {\n                        _this.finalize();\n                    }\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        this.listBaseOption.ariaAttributes.level = 1;\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : this.getSortedData(this.rootData), this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        this.finalizeNode(this.element);\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            textEle.innerHTML = '';\n            append(this.nodeTemplateFn(e.curData), textEle);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        this.trigger('drawNode', eventArgs);\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        var _this = this;\n        if (this.showCheckBox) {\n            var nodes_1 = [].concat([], this.checkedNodes);\n            this.checkedNodes.forEach(function (value, index) {\n                var checkBox = _this.element.querySelector('[data-uid=\"' + value + '\"]');\n                if (isNOU(checkBox)) {\n                    nodes_1 = nodes_1.filter(function (e) { return e !== value; });\n                }\n            });\n            this.setProperties({ checkedNodes: nodes_1 }, true);\n        }\n    };\n    TreeView.prototype.ensureIndeterminate = function () {\n        if (this.autoCheck) {\n            var liElement = selectAll('li', this.element);\n            var ulElement = void 0;\n            for (var i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (var i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        checkedState = (!this.isLoaded && isNodeChecked) ? 'check' : (isChecked ? 'check' : 'uncheck');\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            for (var index = 0; index < checkBoxes.length; index++) {\n                this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd) {\n        var ariaState;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE) && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n        var firstNode = select('.' + LISTITEM, this.element);\n        if (firstNode) {\n            addClass([firstNode], FOCUS);\n            this.updateIdAttr(null, firstNode);\n        }\n        this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n        this.doExpandAction();\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNOU(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNOU(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNOU(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNOU(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isLoaded = true;\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataBound', eventArgs);\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                this.selectNode(sNode, null, true);\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else {\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                this.triggerClickEvent(event.originalEvent, li);\n            }\n        }\n    };\n    TreeView.prototype.nodeCheckingEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs);\n        return eventArgs;\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon) {\n        var _this = this;\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (this.preventExpand !== true) {\n            removeClass([icon], EXPANDABLE);\n            addClass([icon], COLLAPSIBLE);\n            var start_1 = 0;\n            var end_1 = 0;\n            var proxy_1 = this;\n            var ul_1 = select('.' + PARENTITEM, currLi);\n            var liEle_1 = currLi;\n            this.setHeight(liEle_1, ul_1);\n            if (this.isAnimate) {\n                this.aniObj.animate(ul_1, {\n                    name: this.animation.expand.effect,\n                    duration: this.animation.expand.duration,\n                    timingFunction: this.animation.expand.easing,\n                    begin: function (args) {\n                        liEle_1.style.overflow = 'hidden';\n                        start_1 = liEle_1.offsetHeight;\n                        end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    },\n                    progress: function (args) {\n                        args.element.style.display = 'block';\n                        proxy_1.animateHeight(args, start_1, end_1);\n                    },\n                    end: function (args) {\n                        args.element.style.display = 'block';\n                        _this.expandedNode(liEle_1, ul_1, icon);\n                    }\n                });\n            }\n            else {\n                this.expandedNode(liEle_1, ul_1, icon);\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.isLoaded && this.expandArgs) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs);\n            if (colArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_1 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_1) || isNOU(mapper_1.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && (this.fields.dataSource.dataSource.offline)) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper_1, eicon, parentLi, expandChild, callback);\n            }\n            else {\n                mapper_1.dataSource.executeQuery(this.getQuery(mapper_1, parentLi.getAttribute('data-uid'))).then(function (e) {\n                    _this.treeList.pop();\n                    childItems = e.result;\n                    _this.loadChild(childItems, mapper_1, eicon, parentLi, expandChild, callback);\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = childItems;\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.getSortedData(childItems), this.listBaseOption));\n                this.expandNode(parentLi, eicon);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.renderSubChild(parentLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback) {\n        this.currentLoadData = childItems;\n        if (isNOU(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.fields.dataSource.dataSource.offline) {\n                var id = parentLi.getAttribute('data-uid');\n                var nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.renderSubChild(parentLi, expandChild);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                var curLi = closest(icon, '.' + LISTITEM);\n                this.expandArgs = this.getExpandEvent(curLi, null);\n                this.trigger('nodeExpanding', this.expandArgs);\n                this.renderChildNodes(curLi, expandChild);\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n        }\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs);\n            if (this.expandArgs.cancel) {\n                removeClass([icon], PROCESS);\n                return;\n            }\n        }\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild, callback);\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        switch (e.action) {\n            case 'space':\n                if (this.showCheckBox) {\n                    this.checkNode(e);\n                }\n                break;\n            case 'moveRight':\n                this.openNode(this.enableRtl ? false : true, e);\n                break;\n            case 'moveLeft':\n                this.openNode(this.enableRtl ? true : false, e);\n                break;\n            case 'shiftDown':\n                this.shiftKeySelect(true, e);\n                break;\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n                this.navigateNode(true);\n                break;\n            case 'shiftUp':\n                this.shiftKeySelect(false, e);\n                break;\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n                this.navigateNode(false);\n                break;\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n                this.navigateRootNode(true);\n                break;\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n                this.navigateRootNode(false);\n                break;\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n                this.toggleSelect(focusedNode, e);\n                break;\n            case 'f2':\n                if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                    this.createTextbox(focusedNode, e);\n                }\n                break;\n            case 'ctrlA':\n                if (this.allowMultiSelection) {\n                    var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                    this.selectGivenNodes(sNodes);\n                }\n                break;\n        }\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var eventArgs = this.nodeCheckingEvent(checkWrap, isCheck, e);\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n            (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNOU(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNOU(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true ||\n                    getValue(this.fields.child.toString(), child[length_1])) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    if (childId_1) {\n                        (isNOU(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains('e-text-content')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return { id: id, text: text, parentID: pid, selected: selected, expanded: expanded, isChecked: checked };\n        }\n        return { id: '', text: '', parentID: '', selected: '', expanded: '', isChecked: '' };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.element.innerHTML = '';\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.isLoaded = false;\n        this.setDataBinding();\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        var inpWidth = textEle.offsetWidth + 5;\n        var style = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        this.appendNewText(liEle, txtEle, newText, true);\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs);\n        newText = eventArgs.cancel ? eventArgs.oldText : eventArgs.newText;\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerHTML = '';\n            append(this.nodeTemplateFn(newData), txtEle);\n        }\n        else {\n            txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        if (eventArgs.oldText !== newText) {\n            this.triggerEvent();\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return ele;\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return ele.getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true,\n            enableAutoScroll: true,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    eventArgs.cancel = true;\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs);\n                }\n                if (eventArgs.cancel) {\n                    detach(virtualEle);\n                    removeClass([_this.element], DRAGGING);\n                    _this.dragStartAction = false;\n                }\n                else {\n                    _this.dragStartAction = true;\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs);\n                _this.dragParent = eventArgs.draggedParentNode;\n                _this.preventExpand = eventArgs.preventTargetExpand;\n                if (eventArgs.cancel) {\n                    if (e.helper.parentNode) {\n                        detach(e.helper);\n                    }\n                    document.body.style.cursor = '';\n                }\n                _this.dragStartAction = false;\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (dropLi && e && (e.event.offsetY < 7)) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (1) : (0);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else if (dropLi && e && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10))) {\n                    addClass([icon], DROPNEXT);\n                    var virEle = this.createElement('div', { className: SIBLING });\n                    var index = this.fullRowSelect ? (2) : (1);\n                    dropLi.insertBefore(virEle, dropLi.children[index]);\n                }\n                else {\n                    addClass([icon], DROPIN);\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                for (var i = 0; i < sNodes.length; i++) {\n                    if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                        continue;\n                    }\n                    this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        this.triggerEvent();\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        if (!dragLi.classList.contains('e-disable') && !dropLi.classList.contains('e-disable')) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        if (e && (pos < 7)) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10))) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNOU(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNOU(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (isNOU(dropUl) && this.preventExpand === true) {\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            icon.classList.add('e-icon-expandable');\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            removeClass([icon], COLLAPSIBLE);\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            removeClass([icon], EXPANDABLE);\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', null);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_1 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_1) ? parent_1.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_1 === null && targetParent) {\n                    var parent_2 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_2) ? parent_2.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateInstance();\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        var id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNOU(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNOU(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNOU(id)) {\n            index = isNOU(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child)) ||\n                    (this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    index = isNOU(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.setAttribute('aria-disabled', 'true');\n            addClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            liEle.removeAttribute('aria-disabled');\n            removeClass([liEle], DISABLE);\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNOU(obj) || isNOU(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNOU(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNOU(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNOU(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNOU(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNOU(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        var childNodes;\n        if (isNOU(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove) {\n        var removedData;\n        if (isNOU(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function () {\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        if (toBind) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    e.originalEvent.preventDefault();\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && e.tapCount === 2)) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        this.keyboardModule.destroy();\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNOU(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None') {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.initialRender = true;\n                    this.updateListProp(this.fields);\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'nodeTemplate':\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        this.rippleFn();\n        this.rippleIconFn();\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            var dropUl_1;\n            var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n            var proxy_5 = this;\n            if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n                dropLi.querySelector('.' + PARENTITEM) === null) {\n                proxy_5.renderChildNodes(dropLi, null, function () {\n                    dropUl_1 = dropLi.querySelector('.' + PARENTITEM);\n                    proxy_5.addGivenNodes(nodes, dropLi, index, true, dropUl_1);\n                    proxy_5.triggerEvent();\n                });\n            }\n            else {\n                this.addGivenNodes(nodes, dropLi, index, true);\n                this.triggerEvent();\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (!isNOU(ele)) {\n            this.createTextbox(ele, null);\n        }\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        var newCheck = [];\n        var i = 0;\n        var id = this.fields.id;\n        for (i; i < this.treeData.length; i++) {\n            //Checks if isChecked is enabled while node is not loaded in DOM\n            var checked = null;\n            var childNode = null;\n            var isLoaded = this.element.querySelector('[data-uid=\"' + this.treeData[i][id].toString() + '\"]');\n            if (isLoaded && isLoaded.querySelector('.e-list-item') === null) {\n                //Checks if isChecked is enabled for parent\n                if (this.treeData[i][this.fields.isChecked] === true\n                    && this.checkedElement.indexOf(this.treeData[i][id].toString()) === -1) {\n                    newCheck.push(this.treeData[i][id].toString());\n                    checked = 2;\n                }\n                //Checks for child nodes with isChecked enabled\n                if (checked !== 2) {\n                    checked = 1;\n                }\n                childNode = this.getChildNodes(this.treeData, this.treeData[i][id].toString());\n                (childNode !== null) ? this.allCheckNode(childNode, newCheck, checked) : childNode = null;\n            }\n        }\n        i = 0;\n        //Gets checked nodes based on UI interaction\n        while (i < checkNodes.length) {\n            if (newCheck.indexOf(checkNodes[i]) !== -1) {\n                i++;\n                continue;\n            }\n            newCheck.push(checkNodes[i]);\n            //Gets all child which is not loaded while parent is checked\n            var parentNode = this.element.querySelector('[data-uid=\"' + checkNodes[i] + '\"]');\n            if (parentNode && parentNode.querySelector('.e-list-item') === null) {\n                var child = this.getChildNodes(this.treeData, checkNodes[i].toString());\n                (child && this.autoCheck) ? this.allCheckNode(child, newCheck) : child = null;\n            }\n            i++;\n        }\n        return newCheck;\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNOU(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNOU(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            for (var i = 0, len = nodes.length; i < len; i++) {\n                var liEle = this.getElement(nodes[i]);\n                if (isNOU(liEle)) {\n                    continue;\n                }\n                this.removeNode(liEle);\n            }\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs);\n        if (eventArgs.cancel) {\n            return;\n        }\n        this.appendNewText(liEle, txtEle, newText, false);\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    var TreeView_1;\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, formatUnit, EventHandler, Event, isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { setStyleAttribute as setStyle, addClass, removeClass, Touch } from '@syncfusion/ej2-base';\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        this.enableRtl ? (addClass([this.element], RTL)) :\n            (removeClass([this.element], RTL));\n    };\n    Sidebar.prototype.setTarget = function () {\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n        }\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyle(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined((classELement ||\n            this.element.nextElementSibling))) {\n            addClass([classELement || this.element.nextElementSibling], [MAINCONTENTANIMATION]);\n        }\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.type === 'Auto' && !Browser.isDevice && !this.enableDock) {\n            addClass([this.element], OPEN);\n        }\n        else {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     * @returns void\n     */\n    Sidebar.prototype.hide = function () {\n        var closeArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('close', closeArguments);\n        if (!closeArguments.cancel) {\n            if (this.element.classList.contains(CLOSE)) {\n                return;\n            }\n            if (this.element.classList.contains(OPEN)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], CLOSE);\n            removeClass([this.element], OPEN);\n            this.enableDock ? setStyle(this.element, { 'width': formatUnit(this.dockSize) }) :\n                setStyle(this.element, { 'width': formatUnit(this.width) });\n            this.setDock();\n            this.setType(this.type);\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            if (!this.enableDock && sibling) {\n                sibling.style.transform = 'translateX(' + 0 + 'px)';\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n            this.destroyBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.remove('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: false }, true);\n        }\n    };\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     * @returns void\n     */\n    Sidebar.prototype.show = function () {\n        var openArguments = { model: this, element: this.element, cancel: false };\n        this.trigger('open', openArguments);\n        if (!openArguments.cancel) {\n            removeClass([this.element], VISIBILITY);\n            if (this.element.classList.contains(OPEN)) {\n                return;\n            }\n            if (this.element.classList.contains(CLOSE)) {\n                var changeArguments = { name: 'change', element: this.element };\n                this.trigger('change', changeArguments);\n            }\n            addClass([this.element], [OPEN, TRASITION]);\n            setStyle(this.element, { 'transform': '' });\n            removeClass([this.element], CLOSE);\n            setStyle(this.element, { 'width': formatUnit(this.width) });\n            var elementWidth = this.element.getBoundingClientRect().width;\n            this.setType(this.type);\n            this.createBackDrop();\n            this.setCloseOnDocumentClick();\n            this.setAnimation();\n            if (this.type === 'Slide') {\n                document.body.classList.add('e-sidebar-overflow');\n            }\n            this.setProperties({ isOpen: true }, true);\n        }\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyle(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyle(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop) {\n            var sibling = document.querySelector('.e-main-content') ||\n                this.element.nextElementSibling;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     * @returns string\n     * @private\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     * @returns void\n     */\n    Sidebar.prototype.toggle = function (e) {\n        this.element.classList.contains(OPEN) ? this.hide() : this.show();\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery && this.mediaQuery.matches) {\n            this.show();\n        }\n        else if (this.mediaQuery && this.getState()) {\n            this.hide();\n        }\n    };\n    Sidebar.prototype.resize = function (e) {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide();\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        window.removeEventListener('resize', this.resize.bind(this));\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    this.isOpen ? this.show() : this.hide();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    this.setType(this.type);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginRight = '0px' : sibling.style.marginLeft = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyle(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    else {\n                        _super.prototype.refresh.call(this);\n                    }\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        var sibling = document.querySelector('.e-main-content') ||\n            this.element.nextElementSibling;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                this.position === 'Left' ? sibling.style.marginLeft = '0px' : sibling.style.marginRight = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        this.position === 'Left' ? sibling.style.marginLeft = margin : sibling.style.marginRight = margin;\n                    }\n                    this.setProperties({ isOpen: true }, true);\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     * @returns void\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        if (this.target) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n        var sibling = document.querySelector('.e-main-content')\n            || this.element.nextElementSibling;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        Property('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\nexport { Sidebar };\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","HScroll","_super","options","element","call","preRender","browser","Browser","info","name","browserCheck","isDevice","customStep","ieCheck","initialize","id","getUniqueID","uniqueId","style","display","enableRtl","classList","add","render","touchModule","Touch","scroll","touchHandler","bind","swipe","swipeHandler","EventHandler","scrollEle","scrollHandler","createOverlay","createNavIcon","isNullOrUndefined","scrollStep","offsetWidth","createElement","className","scrollDiv","setAttribute","ele","_i","innerEle_1","slice","children","ele_1","appendChild","overflowX","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","remove","nav","selectAll","forEach","detach","_a","elem","removeAttribute","disable","value","navEles","el","concat","rightOverlayEle","CLS_OVERLAY","clsRight","rightEle","navItem","CLS_NAVRIGHTARROW","leftEle","insertBefore","firstChild","eventBinding","clsLeft","navEle","navLeftItem","CLS_NAVLEFTARROW","onKeyPress","e","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","timeoutFun","setInterval","scrollDis","isContinuous","rootEle","querySelector","scrollLeft","frameScrollRequest","distance","swipeEle","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","Property","NotifyPropertyChanges","Component","CLS_ITEMS","CLS_ITEM","CLS_POPUP","Item","apply","Event","ChildProperty","Toolbar","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","unwireEvents","tempId","isNOU","document","body","removeChild","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","eventArgs","enableCollision","trigger","scrollModule","tbarItemsCol","items","popupPriCount","wireEvents","clickHandler","resize","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","tagName","popCheck","isVisible","overflowMode","keyCode","hide","duration","destroyHScroll","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","destroyItems","querySelectorAll","tbarItems","destroyMode","popupRefresh","val","elementFocus","fChild","focus","activeEleSwitch","clstElement","tbrNavChk","keyHandling","clst","navChk","scrollChk","popAnimate","eleFocus","nodes","popupCheck","popFrstEle","lastElementChild","activeEle","activeEleRemove","top","offsetHeight","show","tbarScrollChk","pos","sib","skipEle","parentElement","clsList","isPopupElement","popupNav","popupClickHandler","itemObj","indexOf","item","cancel","CLS_RTL","position","X","Y","offsetX","dataBind","refreshPosition","getElementOffsetY","minHeight","renderControl","separator","formatUnit","height","setStyle","ariaAttr","role","aria-disabled","aria-haspopup","aria-orientation","attributes","renderItems","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","initHScroll","innerItems","checkOverflow","appendTo","overflow","itemWidthCal","getComputedStyle","parseFloat","marginRight","marginLeft","innerItem","eleWidth","itemWidth","popNav","scrollNav","refreshOverflow","priorityCheck","offsetWid","getElementsByClassName","removePositioning","createPopupEle","eleInlineItem","eleItem","multiVar","extendVar","offsetLeft","innerEle","innerNav","createPopupIcon","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","nodeIndex","nodePri","index","tbResize","push","childNodes","tbarElement","sepItem","extendEle","CLS_POPUPCLASS","popupEle","popupInit","getPropertyValue","clientHeight","maxHeight","eleStyles","popup","Popup","relateTo","offsetY","open","close","collision","borderRightWidth","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollY","innerHeight","overflowHeight","inEle","pre","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","CLS_POPUPDOWN","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","this_1","align","toLowerCase","sepBeforePri_1","refreshPositioning","margin","tbarWid","popWid","left","right","tbarItemAlign","itemEle","showAlwaysInPopup","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","itemEleDom","innerPos","renderSubComponent","setAttr","attr","keyVal","enableItems","isEnable","elements","len","enable","removeClass","addClass","addItems","itemsDiv","itemsRerender","itemAgn","items_1","type","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","templateRender","templateProp","isComponent","itemType","eleObj","templateFn","trim","tempStr","outerHTML","templateCompiler","tempArray","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","prefixIcon","suffixIcon","btnObj","Button","iconPosition","htmlAttributes","tooltipText","tempDom","textContent","cssClass","template","itemClick","showTextOn","sTxt","currentTarget","curEle","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","Collection","CLS_HEADER","CLS_CONTENT","AccordionActionSettings","AccordionAnimationSettings","Complex","effect","easing","AccordionItem","undefined","Accordion","enter","space","isDestroy","templateEle","eleStr","nested","isNested","enablePersistence","expandedItems","aria-multiselectable","initExpand","expandMode","select","initItemExpand","rippleEffect","selector","eventName","focusIn","focusOut","content","innerEles","header","tabindex","aria-level","headerEle","toggleIconGenerate","aria-labelledby","aria-hidden","tglIcon","hdrColIcon","expandItem","renderInnerItem","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","acrdActive","getIndexByItem","contentRendering","ariaAttrUpdate","cntclkCheck","acrdAniEle","acrdAniEle_1","sameContentCheck","getAttribute","sameHeader","acrdnCtn_1","expandState","collapse","expand","eleMoveFocus","clstItem","nextElementSibling","headerEleGenerate","aria-expanded","aria-selected","ctnEle","hdrEle","fetchElement","hdr","expanded","hdrIcnEle","icon","hdrIcon","isHeader","temString","eleVal","itemcnt","ctn","trgtItemEle","animation","timingFunction","isExpanded","eff","expandedItemsPush","expandProgress","expandAnimation","ef","icn","trgtHgt","lastActiveItemId","begin","progress","Animation","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","innerItemEle","expandedItemRefresh","removeItem","isHidden","enableItem","eleHeader","isExpand","itemExpand","expandedItem","updateItem","acrdn","changedProp","j","oldVal","newVal","FOCUSED","HEADER","SELECTED","HIDE","FieldSettings","MenuItem","MenuBase","navIdx","isTapHold","ejInst","getValue","ul","ngElement","setValue","ejInstance","wrapper","idx","nodeName","nodeValue","getWrapper","isMenu","split","zIndex","getZindexPartial","ListBase","createJsonFromElement","fields","child","setProperties","createItems","append","targetElems","isIos","cmenuHandler","targetElement","getScrollableParent","parent_1","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","downarrow","uparrow","leftarrow","rightarrow","escape","keyBoardHandler","rippleFn","closeMenu","actionName","actionNeeded","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","getItem","openMenu","sli","canOpen","changedTouches","pageY","pageX","ulIndex","isMenuVisible","closeArgs","beforeCloseArgs","cnt","parentItem","event","toggleAnimation","valueOf","filter","li","getField","lastChild","data","ICONS","hdata","hli","getIndex","pop","setPosition","toggleVisiblity","collide","isCollide","offset","fit","isRelative","offsetParent","Number","replace","x","y","xCollision","yCollision","getBoundingClientRect","boundRect","pageYOffset","pageXOffset","visibility","level","showIcon","hasField","listBaseOptions","moduleName","getFields","itemCreating","curData","clearChanges","itemCreated","span","createList","getLI","showItemOnClick","propName","fieldName","url","field","cliWrapper","isInstLI","setLISelected","showSubMenu","cliIdx","culIdx","classname","getItems","skipHdr","toggle","unWireEvents","getChangedItemIndex","insertAfter","uls","getInstance","parent_2","keyboardModule","isMenuOpen","animationSettings","isUniqueId","nIndex","isCallBack","unshift","disabled","showItems","showHideItems","hideItems","ishide","iitems","insertItems","isAfter","menuitem","ContextMenu","VMENU","Menu","tempItems","map","createMenuItems","orientation","pIdField","record","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POPUP","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","animateOptions","animObj","title","lastIndex","delete","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","css","setCssClass","aria-activedescendant","btnCls","CLS_ICONS","attrs","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","CLS_INDICATOR","scrCnt","setContentHeight","selectedItem","setRTL","tabItems","hdrItems","aria-controls","txt","cont","wrap","tabIndex","parseObject","clicked","setCloseButton","showCloseButton","hdrItem","contents","reRenderItems","txtWrapEle","tbCount","tItems","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","tItem","removeActiveClass","hdrActEle","no","extIndex","findEle","checkPopupOverflow","tbPop","tbrItems","popupHandler","ripEle","tbItem","actEleId","prevEle","trg","refreshActElePosition","prevCtnAnimation","prev","current","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","idNo","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","templateCompile","tempEle","compileElement","prop","templateFUN","compile","getContent","callType","place","list","heightAdjustMode","max","getHeight","cs","hsCnt","bar","tbWidth","setActive","isNaN","trg_1","enableAnimation","eleTrg","itemIndex","curActItem","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","isSwiped","setItems","isReplace","refreshActiveBorder","hoverHandler","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeEventListener","removeTab","k","which","clstHead","actEle","ej2_instances","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","L10n","closeButtonTitle","locale","getConstant","enableTab","addTab","lastEleIndex","addedItems","itemsCount","removeArgs","removedItem","removedIndex","cntTrg","hideTab","selectingItem","selectingIndex","cntItem","arr","isHiddenEle","tempHdrEle","ROOT","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","SIBLING","DROPNEXT","CHECK","CHECKBOXWRAP","FOCUS","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","preventExpand","checkedElement","mouseDownStatus","TreeView_1","checkActionNodes","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","updateListProp","aniObj","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","initialRender","setDataBinding","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","allowDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","dataSource","DataManager","ready","then","offline","treeData","result","isNumberTypeId","getType","setRootData","finalize","executeQuery","getQuery","rootData","JSON","parse","stringify","mapper","query","columns","clone","Query","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","ulElement","getSortedData","finalizeNode","showCheckBox","checkboxEle","createCheckBox","touchClass","checkValue","isChecked","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","node","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","hasChildren","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","renderChildNodes","updateList","updateCheckedProp","nodes_1","checkBox","ensureIndeterminate","autoCheck","liElement","ensureParentCheckState","ensureChildCheckState","indeterminate","checkBoxEle","changeState","parentUL","currentParent","childElement","checkBoxes","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","getElement","validateCheckNode","state","isPrevent","isAdd","ariaState","currLi","getCheckEvent","frameSpan","removeCheck","isUndefined","checked","getNodeData","isInteracted","firstNode","updateIdAttr","hasPid","doExpandAction","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckingEvent","isCheck","nodeCheckedEvent","expandNode","hideSpinner","start_1","end_1","proxy_1","ul_1","liEle_1","setHeight","animateHeight","expandedNode","addExpand","expandArgs","getExpandEvent","colArgs","collapsedNode","removeExpand","toRemove","currentHeight","timeStamp","parentLi","expandChild","eicon","showSpinner","childItems","parents","mapper_1","getChildFields","loadChild","ensureCheckNode","renderSubChild","getNodeObject","nodeLevel","dataLevel","getChildMapper","obj","parentId","isRoot","getChildGroup","objlen","dataId","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","temp","currNode","addSelect","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","parent","getScrollParent","parentPos","bottom","scrollTop","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","innerWidth","clientWidth","scrollHeight","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","allCheckNode","newCheck","childCheck","validateCheck","length_1","childId","check","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","innerHtml","inputObj","Input","createInput","properties","container","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","appendNewText","isInput","newData","triggerEvent","getId","getChildNodeObject","newList","childData","toBind","initializeDrag","destroyDrag","virtualEle","dragObj","Draggable","enableTailMode","enableAutoScroll","dragTarget","helper","sender","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","cursor","dragData","dragStart","listItem","getDragEvent","draggedNode","drag","cursorAt","targetTouches","dragAction","dragStop","removeVirtualEle","dropTarget","dropRoot","preventTargetExpand","dragParent","draggedParentNode","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","virEle","renderVirtualEle","dropIndicator","dragInstance","draggable","droppedElement","appendNode","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","updateField","currPid","removeChildNodes","addChildData","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropIndex","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","dm","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","createListItemFromJson","refNode","navigateUrl","nodeId","updated","childObj","doDisableAction","doEnableAction","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","resultData","executeLocal","proxy_2","touchEditObj","tap","tapCount","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","matched","matches","createSpinner","setCheckedNodes","uncheckAll","checkAll","collapseAll","addNodes","dropUl_1","proxy_5","beginEdit","disableNodes","enableNodes","ensureVisible","expandAll","getAllCheckedNodes","checkNodes","childNode","getNode","getTreeData","moveNodes","sourceNodes","removeNodes","updateNode","CLOSE","OPEN","RIGHT","LEFT","OVER","PUSH","CONTEXT","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","setMediaQuery","setType","setCloseOnDocumentClick","setEnableRTL","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","z-index","classELement","destroyBackDrop","sibling","showBackdrop","modal","closeArguments","model","changeArguments","transform","setAnimation","openArguments","createBackDrop","getState","mediaQuery","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","margin-left","margin-right","insertAdjacentElement","elementWidth"],"mappings":"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,oBAAiB,IACxCE,IACImK,WAAS,SACVwzB,EAAS79B,UAAW,eAAY,IACnCE,IACIyf,aAAY+d,KACbG,EAAS79B,UAAW,aAAU,IACjCE,IACImK,YAAS,IACVwzB,EAAS79B,UAAW,oBAAiB,IACxCE,IACImK,cACDwzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACImK,cACDwzB,EAAS79B,UAAW,oBAAiB,IACxCE,IACImK,WAAS,SACVwzB,EAAS79B,UAAW,gBAAa,IACpCE,IACImK,YAAS,IACVwzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACImK,YAAS,IACVwzB,EAAS79B,UAAW,gBAAa,IACpCE,IACI2K,WACDgzB,EAAS79B,UAAW,cAAW,IAClCE,IACI2K,WACDgzB,EAAS79B,UAAW,gBAAa,IACpCE,IACI2K,WACDgzB,EAAS79B,UAAW,wBAAqB,IAC5CE,IACI2K,WACDgzB,EAAS79B,UAAW,eAAY,IACnCE,IACI2K,WACDgzB,EAAS79B,UAAW,gBAAa,IACpCE,IACI2K,WACDgzB,EAAS79B,UAAW,eAAY,IACnCE,IACI2K,WACDgzB,EAAS79B,UAAW,kBAAe,IACtCE,IACI2K,WACDgzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACI2K,WACDgzB,EAAS79B,UAAW,kBAAe,IACtCE,IACI2K,WACDgzB,EAAS79B,UAAW,oBAAiB,IACxCE,IACI2K,WACDgzB,EAAS79B,UAAW,qBAAkB,IACzCE,IACI2K,WACDgzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACI2K,WACDgzB,EAAS79B,UAAW,oBAAiB,IACxCE,IACI2K,WACDgzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACI2K,WACDgzB,EAAS79B,UAAW,kBAAe,IACtCE,IACI2K,WACDgzB,EAAS79B,UAAW,iBAAc,IACrCE,IACI2K,WACDgzB,EAAS79B,UAAW,kBAAe,IACtCE,IACI2K,WACDgzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACI2K,WACDgzB,EAAS79B,UAAW,oBAAiB,IACxCE,IACI2K,WACDgzB,EAAS79B,UAAW,mBAAgB,IACvCE,IACI2K,WACDgzB,EAAS79B,UAAW,oBAAiB,IACxC69B,EAAWI,EAAa/9B,IACpBoK,yBACDuzB,IAELtzB,aC77GEpL,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOoB,yBAAyBP,EAAQC,GAAOC,CACrH,IAAuB,gBAAZM,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIQ,GAAIX,EAAWM,OAAS,EAAGK,GAAK,EAAGA,KAASzB,EAAIc,EAAWW,MAAIJ,GAAKH,EAAI,EAAIlB,EAAEqB,GAAKH,EAAI,EAAIlB,EAAEe,EAAQC,EAAKK,GAAKrB,EAAEe,EAAQC,KAASK,EAChJ,OAAOH,GAAI,GAAKG,GAAKnB,OAAOwB,eAAeX,EAAQC,EAAKK,GAAIA,GAQ5Dq+C,GAAQ,UACRC,GAAO,SAKPC,GAAQ,UACRC,GAAO,SACPC,GAAO,SACPC,GAAO,SAKPC,GAAU,oBAgBVC,GAAyB,SAAUr+C,GAEnC,QAASq+C,GAAQp+C,EAASC,GACtB,MAAOF,GAAOG,KAAKtB,KAAMoB,EAASC,IAAYrB,KAmhBlD,MArhBAX,IAAUmgD,EAASr+C,GAInBq+C,EAAQt/C,UAAUqB,UAAY,WAC1BvB,KAAKy/C,YAETD,EAAQt/C,UAAUuC,OAAS,WACvBzC,KAAKgC,aACLhC,KAAK+M,cAETyyC,EAAQt/C,UAAU8B,WAAa,WAC3BhC,KAAK0/C,YACL1/C,KAAK2b,WACL3b,KAAK2/C,YACD3/C,KAAK4/C,YACL5/C,KAAK6/C,UAEL7/C,KAAKuW,OACLvW,KAAKiQ,OAGLjQ,KAAK8/C,gBAET9/C,KAAK+/C,QAAQ//C,KAAKic,MAClBjc,KAAKggD,0BACLhgD,KAAKigD,gBAETT,EAAQt/C,UAAU+/C,aAAe,WAC7BjgD,KAAKsC,UAAaqZ,YAAU3b,KAAKqB,SAvD/B,SAwDGqa,eAAa1b,KAAKqB,SAxDrB,UA0DNm+C,EAAQt/C,UAAUw/C,UAAY,WACG,gBAAjB1/C,cACRA,KAAK4oB,eAAgBtoB,OAAQyL,SAAS3D,cAAcpI,KAAKM,UAAW,GAEpEN,KAAKM,SACLN,KAAKM,OAAOyF,aAAa/F,KAAKqB,QAASrB,KAAKM,OAAO2D,SAAS,IAC5D0X,YAAU3b,KAAKqB,SAtDL,sBAuDVsa,YAAU3b,KAAKM,QAASi/C,MAGhCC,EAAQt/C,UAAU8/C,wBAA0B,WACpChgD,KAAKkgD,qBACLj9C,eAAaT,IAAIuJ,SAAU,uBAAwB/L,KAAKmgD,qBAAsBngD,MAG9EiD,eAAa0B,OAAOoH,SAAU,uBAAwB/L,KAAKmgD,uBAGnEX,EAAQt/C,UAAUu/C,SAAW,WACrBz/C,KAAK4/C,YAAgC,SAAlB5/C,KAAKgR,SACxBY,oBAAS5R,KAAKqB,SAAWsI,MAAS3J,KAAKogD,aAAapgD,KAAKqgD,YAEpDrgD,KAAK4/C,YAAgC,UAAlB5/C,KAAKgR,SAC7BY,oBAAS5R,KAAKqB,SAAWsI,MAAS3J,KAAKogD,aAAapgD,KAAKqgD,YAEnDrgD,KAAK4/C,YACXhuC,oBAAS5R,KAAKqB,SAAWsI,MAAS3J,KAAKogD,aAAapgD,KAAK2J,UAGjE61C,EAAQt/C,UAAUkgD,aAAe,SAAUz2C,GAUvC,MARIA,GADiB,gBAAVA,GACC+H,aAAW/H,GAEG,gBAAVA,GACHA,EAAM22C,MAAM,WAAc32C,EAAQ+H,aAAW/H,GAG9C,QAIhB61C,EAAQt/C,UAAUy/C,UAAY,WAC1B/tC,oBAAS5R,KAAKqB,SAAWk/C,UAAW,GAAKvgD,KAAKsoB,UAElDk3B,EAAQt/C,UAAUyb,SAAW,WACzB,GAAI6kC,GAAez0C,SAAS3D,cAAc,kBACrC9E,qBAAmBk9C,GACpBxgD,KAAKqB,QAAQkiB,qBACb5H,YAAU6kC,GAAgBxgD,KAAKqB,QAAQkiB,qBAnGxB,wBAqGdvjB,KAAK4/C,YAA4B,SAAd5/C,KAAKic,MACzBN,YAAU3b,KAAKqB,UAvGV,iBAyGTqa,eAAa1b,KAAKqB,UAAW69C,GAAMD,GAAOE,GAAOC,GA1G7C,UA0G0DE,GAAMD,KACpEr/C,KAAKqB,QAAQkB,UAAUC,IAvHpB,aAwHHmZ,YAAU3b,KAAKqB,SAA6B,UAAlBrB,KAAKgR,SAAwBmuC,GAAQC,IAC7C,SAAdp/C,KAAKic,MAAoBxa,UAAQI,UAAa7B,KAAK4/C,WAInDjkC,YAAU3b,KAAKqB,SAAU49C,IAHzBtjC,YAAU3b,KAAKqB,SAAU69C,KAMjCM,EAAQt/C,UAAUugD,gBAAkB,WAChC,GAAIC,GAAU30C,SAAS3D,cAAc,oBACjCpI,KAAKqB,QAAQkiB,kBACbvjB,MAAKM,QAAUN,KAAK2gD,cAAgBD,EACpChlC,eAAaglC,GA9HH,cAgIL1gD,KAAK2gD,cAAgB3gD,KAAK4gD,QAC/B5gD,KAAK4gD,MAAMx+C,MAAMC,QAAU,OAC3BrC,KAAK4gD,MAAMxjC,UAAY,GACvBpd,KAAK4gD,MAAQ,OAOrBpB,EAAQt/C,UAAU0N,KAAO,WACrB,GAAIizC,IAAmBC,MAAO9gD,KAAMqB,QAASrB,KAAKqB,QAASyP,QAAQ,EAEnE,IADA9Q,KAAK0M,QAAQ,QAASm0C,IACjBA,EAAe/vC,OAAQ,CACxB,GAAI9Q,KAAKqB,QAAQkB,UAAUsF,SAASo3C,IAChC,MAEJ,IAAIj/C,KAAKqB,QAAQkB,UAAUsF,SAASq3C,IAAO,CACvC,GAAI6B,IAAoBp/C,KAAM,SAAUN,QAASrB,KAAKqB,QACtDrB,MAAK0M,QAAQ,SAAUq0C,GAE3BplC,YAAU3b,KAAKqB,SAAU49C,IACzBvjC,eAAa1b,KAAKqB,SAAU69C,IAC5Bl/C,KAAK4/C,WAAahuC,oBAAS5R,KAAKqB,SAAWsI,MAAS+H,aAAW1R,KAAKqgD,YAChEzuC,oBAAS5R,KAAKqB,SAAWsI,MAAS+H,aAAW1R,KAAK2J,SACtD3J,KAAK6/C,UACL7/C,KAAK+/C,QAAQ//C,KAAKic,KAClB,IAAIykC,GAAU30C,SAAS3D,cAAc,oBACjCpI,KAAKqB,QAAQkiB,oBACZvjB,KAAK4/C,YAAcc,IACpBA,EAAQt+C,MAAM4+C,UAAY,kBACR,SAAlBhhD,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAa,MAAQytC,EAAQt+C,MAAM4Q,YAAc,OAE9FhT,KAAKygD,kBACLzgD,KAAKggD,0BACLhgD,KAAKihD,eACa,UAAdjhD,KAAKic,MACLlQ,SAASC,KAAKzJ,UAAUoC,OAAO,sBAEnC3E,KAAK4oB,eAAgBrS,QAAQ,IAAS,KAO9CipC,EAAQt/C,UAAU+P,KAAO,WACrB,GAAIixC,IAAkBJ,MAAO9gD,KAAMqB,QAASrB,KAAKqB,QAASyP,QAAQ,EAElE,IADA9Q,KAAK0M,QAAQ,OAAQw0C,IAChBA,EAAcpwC,OAAQ,CAEvB,GADA4K,eAAa1b,KAAKqB,SA3Kb,gBA4KDrB,KAAKqB,QAAQkB,UAAUsF,SAASq3C,IAChC,MAEJ,IAAIl/C,KAAKqB,QAAQkB,UAAUsF,SAASo3C,IAAQ,CACxC,GAAI8B,IAAoBp/C,KAAM,SAAUN,QAASrB,KAAKqB,QACtDrB,MAAK0M,QAAQ,SAAUq0C,GAE3BplC,YAAU3b,KAAKqB,UAAW69C,GA5LtB,iBA6LJttC,oBAAS5R,KAAKqB,SAAW2/C,UAAa,KACtCtlC,eAAa1b,KAAKqB,SAAU49C,IAC5BrtC,oBAAS5R,KAAKqB,SAAWsI,MAAS+H,aAAW1R,KAAK2J,QAC/B3J,MAAKqB,QAAQksB,wBAAwB5jB,KACxD3J,MAAK+/C,QAAQ//C,KAAKic,MAClBjc,KAAKmhD,iBACLnhD,KAAKggD,0BACLhgD,KAAKihD,eACa,UAAdjhD,KAAKic,MACLlQ,SAASC,KAAKzJ,UAAUC,IAAI,sBAEhCxC,KAAK4oB,eAAgBrS,QAAQ,IAAQ,KAG7CipC,EAAQt/C,UAAU+gD,aAAe,WACzBjhD,KAAK4I,QACL8S,eAAa1b,KAAKqB,SAlMP,uBAqMXsa,YAAU3b,KAAKqB,SArMJ,wBAwMnBm+C,EAAQt/C,UAAU2/C,QAAU,WACpB7/C,KAAK4/C,YAAgC,SAAlB5/C,KAAKgR,WAAwBhR,KAAKohD,WACrDxvC,oBAAS5R,KAAKqB,SAAW2/C,UAAa,gCAA0ChhD,KAAKogD,aAAapgD,KAAKqgD,UAAY,MAE9GrgD,KAAK4/C,YAAgC,UAAlB5/C,KAAKgR,WAAyBhR,KAAKohD,YAC3DxvC,oBAAS5R,KAAKqB,SAAW2/C,UAAa,gCAA+ChhD,KAAKogD,aAAapgD,KAAKqgD,UAAY,MAExHrgD,KAAKqB,QAAQkB,UAAUsF,SAASo3C,KAAUj/C,KAAK4/C,YAC/ChuC,oBAAS5R,KAAKqB,SAAWsI,MAAS3J,KAAKogD,aAAapgD,KAAKqgD,aAGjEb,EAAQt/C,UAAUihD,eAAiB,WAC/B,GAAInhD,KAAKM,QAAUN,KAAK2gD,aAAc,CAClC,GAAID,GAAU30C,SAAS3D,cAAc,oBACjCpI,KAAKqB,QAAQkiB,kBACjB5H,aAAU+kC,GAhOA,kBAkOL1gD,MAAK2gD,eAAiB3gD,KAAK4gD,OAAS5gD,KAAKohD,aAC9CphD,KAAK4gD,MAAQ5gD,KAAKyD,cAAc,OAChCzD,KAAK4gD,MAAMl9C,UArOD,oBAsOV1D,KAAK4gD,MAAMx+C,MAAMC,QAAU,QAC3B0J,SAASC,KAAK7H,YAAYnE,KAAK4gD,SAGvCpB,EAAQt/C,UAAUoE,eAAiB,WAC/B,MAAOtE,MAAKwE,cAAc,OAAQ,WAAY,YAOlDg7C,EAAQt/C,UAAUuE,cAAgB,WAC9B,MAAO,WAMX+6C,EAAQt/C,UAAUqvB,OAAS,SAAUhpB,GACjCvG,KAAKqB,QAAQkB,UAAUsF,SAASq3C,IAAQl/C,KAAK4N,OAAS5N,KAAKiQ,QAE/DuvC,EAAQt/C,UAAUkhD,SAAW,WACzB,QAAOphD,KAAKqB,QAAQkB,UAAUsF,SAASq3C,KAE3CM,EAAQt/C,UAAU4/C,cAAgB,WAC1B9/C,KAAKqhD,YAAcrhD,KAAKqhD,WAAW3D,QACnC19C,KAAKiQ,OAEAjQ,KAAKqhD,YAAcrhD,KAAKohD,YAC7BphD,KAAK4N,QAGb4xC,EAAQt/C,UAAU+M,OAAS,SAAU1G,GACf,SAAdvG,KAAKic,OACDxa,UAAQI,SACR8Z,YAAU3b,KAAKqB,SAAUg+C,IAGzB1jC,YAAU3b,KAAKqB,SAAUi+C,KAGjCt/C,KAAK8/C,iBAETN,EAAQt/C,UAAUigD,qBAAuB,SAAU55C,GAC3C+H,UAAQ/H,EAAEjG,OAAQ,yBAGtBN,KAAK4N,QAET4xC,EAAQt/C,UAAUohD,qBAAuB,SAAUhlC,GACzB,SAAlBtc,KAAKgR,UAA+C,UAAxBsL,EAAKrT,gBAChCqT,EAAKilC,QAAU,IAAMjlC,EAAK5T,WAAa,IAAM4T,EAAK7T,UAAY,GAC/DzI,KAAKiQ,OAEkB,SAAlBjQ,KAAKgR,UAA+C,SAAxBsL,EAAKrT,eACtCjJ,KAAK4N,OAEkB,UAAlB5N,KAAKgR,UAAgD,UAAxBsL,EAAKrT,eACvCjJ,KAAK4N,OAEkB,UAAlB5N,KAAKgR,UAAgD,SAAxBsL,EAAKrT,gBACnCpC,OAAO+oC,WAAatzB,EAAKilC,QAAU,IAAMjlC,EAAK5T,WAAa,IAAM4T,EAAK7T,UAAY,IACtFzI,KAAKiQ,QAGbuvC,EAAQt/C,UAAUshD,kBAAoB,WAC9BxhD,KAAKyhD,gBACLzhD,KAAK0hD,eAAiB,GAAI/+C,SAAMoJ,SAASC,MAAQjJ,MAAO/C,KAAKshD,qBAAqBx+C,KAAK9C,QACvFA,KAAK2hD,WAAa,GAAIh/C,SAAM3C,KAAKqB,SAAW0B,MAAO/C,KAAKshD,qBAAqBx+C,KAAK9C,SAG9EA,KAAK0hD,gBAAkB1hD,KAAK2hD,aAC5B3hD,KAAK0hD,eAAeh9C,UACpB1E,KAAK2hD,WAAWj9C,YAI5B86C,EAAQt/C,UAAU6M,WAAa,WAC3B/M,KAAKwhD,oBACL36C,OAAOQ,iBAAiB,SAAUrH,KAAKiN,OAAOnK,KAAK9C,QAEvDw/C,EAAQt/C,UAAUsvB,aAAe,WAC7B3oB,OAAOozB,oBAAoB,SAAUj6B,KAAKiN,OAAOnK,KAAK9C,OACtDiD,eAAa0B,OAAOoH,SAAU,uBAAwB/L,KAAKmgD,sBACvDngD,KAAK0hD,gBACL1hD,KAAK0hD,eAAeh9C,UAEpB1E,KAAK2hD,YACL3hD,KAAK2hD,WAAWj9C,WAGxB86C,EAAQt/C,UAAUiK,kBAAoB,SAAUC,EAASC,GAGrD,IAAK,GAFDq2C,GAAU30C,SAAS3D,cAAc,oBACjCpI,KAAKqB,QAAQkiB,mBACRzf,EAAK,EAAGkB,EAAKvF,OAAO6K,KAAKF,GAAUtG,EAAKkB,EAAGrE,OAAQmD,IAExD,OADWkB,EAAGlB,IAEV,IAAK,SACD9D,KAAKuW,OAASvW,KAAKiQ,OAASjQ,KAAK4N,MACjC,MACJ,KAAK,QACD5N,KAAKy/C,WACAz/C,KAAKohD,YACNphD,KAAK6/C,SAET,MACJ,KAAK,UACD7/C,KAAKihD,cACL,MACJ,KAAK,OACDvlC,eAAa1b,KAAKqB,UA7UrB,iBA8UGrB,KAAK2b,WACL3b,KAAK+/C,QAAQ//C,KAAKic,KAClB,MACJ,KAAK,WACDjc,KAAKqB,QAAQe,MAAM4+C,UAAY,GAC/BhhD,KAAK6/C,UACDa,IACkB,SAAlB1gD,KAAKgR,SAAsB0vC,EAAQt+C,MAAM4Q,YAAc,MAAQ0tC,EAAQt+C,MAAM6Q,WAAa,OAExE,UAAlBjT,KAAKgR,UACL0K,eAAa1b,KAAKqB,SAAU+9C,IAC5BzjC,YAAU3b,KAAKqB,SAAU89C,MAGzBzjC,eAAa1b,KAAKqB,SAAU89C,IAC5BxjC,YAAU3b,KAAKqB,SAAU+9C,KAE7Bp/C,KAAK+/C,QAAQ//C,KAAKic,KAClB,MACJ,KAAK,eACGjc,KAAK2gD,aACL3gD,KAAKmhD,iBAGDnhD,KAAK4gD,QACL5gD,KAAK4gD,MAAMx+C,MAAMC,QAAU,OAC3BrC,KAAK4gD,MAAMxjC,UAAY,GACvBpd,KAAK4gD,MAAQ,KAGrB,MACJ,KAAK,SAC4B,gBAAjB5gD,cACRA,KAAK4oB,eAAgBtoB,OAAQyL,SAAS3D,cAAcpI,KAAKM,UAAW,GAEpEgD,oBAAkBtD,KAAKM,SACvBob,eAAa1b,KAAKqB,SA9WpB,sBA+WEqa,eAAarR,EAAQ/J,QAASi/C,IAC9B3tC,oBAAS8uC,GAAWkB,cAAe,EAAGC,eAAgB,IACtD91C,SAASC,KAAK81C,sBAAsB,aAAc9hD,KAAKqB,UAGvDF,EAAOjB,UAAUif,QAAQ7d,KAAKtB,KAElC,MACJ,KAAK,uBACDA,KAAKggD,yBACL,MACJ,KAAK,aACIhgD,KAAKohD,YACNphD,KAAK6/C,SAET,MACJ,KAAK,SACD7/C,KAAK2/C,WACL,MACJ,KAAK,aACD3/C,KAAK8/C,eACL,MACJ,KAAK,iBACD9/C,KAAKwhD,mBACL,MACJ,KAAK,YACDxhD,KAAKigD,iBAKrBT,EAAQt/C,UAAU6/C,QAAU,SAAU9jC,GAClC,GAAI8lC,GAAe/hD,KAAKqB,QAAQksB,wBAAwB5jB,KACxD3J,MAAK2/C,YACD3/C,KAAK4/C,YACLjkC,YAAU3b,KAAKqB,SAlad,SAoaL,IAAIq/C,GAAU30C,SAAS3D,cAAc,oBACjCpI,KAAKqB,QAAQkiB,kBACbm9B,KACAA,EAAQt+C,MAAM4+C,UAAY,kBACrBv/C,UAAQI,UAA0B,SAAd7B,KAAKic,OACR,SAAlBjc,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAa,MAAQytC,EAAQt+C,MAAM4Q,YAAc,OAGlG,IAAIkH,IAASla,KAAKgR,SAAsB+wC,EAAe,MACnD5uC,EAA6B,SAAlBnT,KAAKgR,SAAsB+wC,IAE1C,QADArmC,eAAa1b,KAAKqB,UAAWi+C,GAAMD,GAna/B,YAoaIpjC,GACJ,IAAK,OACDN,YAAU3b,KAAKqB,UAAWi+C,KACtBoB,IAAY1gD,KAAK4/C,YAAc5/C,KAAKqB,QAAQkB,UAAUsF,SAASq3C,OAC7C,SAAlBl/C,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAaiH,EAASwmC,EAAQt+C,MAAM4Q,YAAckH,EAE/F,MACJ,KAAK,QACDyB,YAAU3b,KAAKqB,UA5anB,YA6aQq/C,IAAY1gD,KAAK4/C,YAAc5/C,KAAKqB,QAAQkB,UAAUsF,SAASq3C,OAC/DwB,EAAQt+C,MAAM4+C,UAAY,cAAgB7tC,EAAW,MAEzD,MACJ,KAAK,OACDwI,YAAU3b,KAAKqB,UAAWg+C,KACtBr/C,KAAK4/C,YAAc5/C,KAAKqB,QAAQkB,UAAUsF,SAASo3C,KAC/CyB,IACkB,SAAlB1gD,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAaiH,EAASwmC,EAAQt+C,MAAM4Q,YAAckH,EAGnG,MACJ,KAAK,OACDyB,YAAU3b,KAAKqB,UAlcf,iBAmcII,UAAQI,SACJ6+C,GAAY1gD,kBAAqBA,KAAKohD,YACpB,SAAlBphD,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAaiH,EAASwmC,EAAQt+C,MAAM4Q,YAAckH,EAC3FyB,YAAU3b,KAAKqB,SAAUi+C,KAGzB3jC,YAAU3b,KAAKqB,SAAUg+C,KAI7B1jC,YAAU3b,KAAKqB,SAAUi+C,IACrBoB,IAAY1gD,KAAK4/C,YAAc5/C,KAAKqB,QAAQkB,UAAUsF,SAASq3C,OAC7C,SAAlBl/C,KAAKgR,SAAsB0vC,EAAQt+C,MAAM6Q,WAAaiH,EAASwmC,EAAQt+C,MAAM4Q,YAAckH,GAE/Fla,KAAK4oB,eAAgBrS,QAAQ,IAAQ,IAEzCvW,KAAKmhD,mBAOjB3B,EAAQt/C,UAAUwE,QAAU,WACxBvD,EAAOjB,UAAUwE,QAAQpD,KAAKtB,MAC9B0b,eAAa1b,KAAKqB,UAAW69C,GAAMD,GAAOK,GApdtC,UAodmDD,GAAMD,GAAMD,GA5d3D,iBA6dJn/C,KAAKM,SACLob,eAAa1b,KAAKqB,SAjdR,sBAkdVqa,eAAa1b,KAAKM,QAASi/C,KAE/Bv/C,KAAKygD,kBACLzgD,KAAKqB,QAAQe,MAAMuH,MAAQ,GAC3B3J,KAAKqB,QAAQe,MAAMkmB,OAAS,GAC5BtoB,KAAKqB,QAAQe,MAAM4+C,UAAY,EAC/B,IAAIN,GAAU30C,SAAS3D,cAAc,oBAC9BpI,KAAKqB,QAAQkiB,kBACfjgB,qBAAkBo9C,KACnBA,EAAQt+C,MAAM8X,OAAS,GACvBwmC,EAAQt+C,MAAM4+C,UAAY,IAE9BhhD,KAAKwvB,gBAETpvB,IACImK,WAAS,SACVi1C,EAAQt/C,UAAW,eAAY,IAClCE,IACImK,WAAS,OACVi1C,EAAQt/C,UAAW,iBAAc,IACpCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,iBAAc,IACpCE,IACImK,WAAS,UACVi1C,EAAQt/C,UAAW,aAAU,IAChCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,wBAAqB,IAC3CE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,qBAAkB,IACxCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,aAAU,IAChCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,gBAAa,IACnCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,cAAW,IACjCE,IACImK,WAAS,SACVi1C,EAAQt/C,UAAW,aAAU,IAChCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,2BAAwB,IAC9CE,IACImK,WAAS,SACVi1C,EAAQt/C,UAAW,eAAY,IAClCE,IACImK,WAAS,OACVi1C,EAAQt/C,UAAW,aAAU,IAChCE,IACImK,YAAS,IACVi1C,EAAQt/C,UAAW,mBAAgB,IACtCE,IACImK,WAAS,SACVi1C,EAAQt/C,UAAW,WAAQ,IAC9BE,IACImK,WAAS,SACVi1C,EAAQt/C,UAAW,YAAS,IAC/BE,IACImK,WAAS,MACVi1C,EAAQt/C,UAAW,aAAU,IAChCE,IACI2K,WACDy0C,EAAQt/C,UAAW,cAAW,IACjCE,IACI2K,WACDy0C,EAAQt/C,UAAW,YAAS,IAC/BE,IACI2K,WACDy0C,EAAQt/C,UAAW,WAAQ,IAC9BE,IACI2K,WACDy0C,EAAQt/C,UAAW,aAAU,IAChCE,IACI2K,WACDy0C,EAAQt/C,UAAW,gBAAa,IACnCs/C,EAAUp/C,IACNoK,yBACDg1C,IAEL/0C"}