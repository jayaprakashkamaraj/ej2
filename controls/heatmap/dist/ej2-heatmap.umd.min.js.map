{"version":3,"file":"ej2-heatmap.umd.min.js","sources":["../src/heatmap/utils/helper.js","../src/heatmap/model/base.js","../src/heatmap/model/theme.js","../src/heatmap/utils/colorMapping.js","../src/heatmap/axis/axis.js","../src/heatmap/axis/axis-helpers.js","../src/heatmap/series/series.js","../src/heatmap/datasource/twodimensional.js","../src/heatmap/legend/legend.js","../src/heatmap/heatmap.js","../src/heatmap/datasource/adaptor.js","../src/heatmap/utils/tooltip.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, remove, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Helper method for heatmap\n */\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to measure the height and width of the text.\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle;\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight;\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Internal class size for height and width\n * @private\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Class to define property to draw rectangle.\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : '';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : '';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/** @private */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var text;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight,\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.drawText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        ctx.fillText(label, options.x - translateX, options.y - translateY);\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        var cornerRadius = options.rx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] != 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    ;\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var initialClip = heatmap.initialClipRect;\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n                'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (initialClip.height + initialClip.y - (size.height + 6) + 5).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/* private*/\n/* Method to get the tool tip text in canvas based on region. */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures the fonts in heat map.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the heat map margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the borders in the heat map.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the mapping name for size and color in SizeAndColor type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * class used to maintain Title styles.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * class used to maintain palette information.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * Internal class used to maintain colorcollection.\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * class used to maintain color and value collection.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n","/**\n * Specifies HeatMaps Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n})(Theme || (Theme = {}));\n/** @private */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme) {\n        case 'Highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Configures the color property in Heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = colorMapping[0].value;\n        var nextOffset = 0;\n        for (var i = 1; i < colorMapping.length; i++) {\n            var offset = Number(colorMapping[i].value);\n            if (value <= offset) {\n                nextOffset = offset;\n                break;\n            }\n            else {\n                nextOffset = offset;\n                previousOffset = offset;\n            }\n        }\n        var percent = 0;\n        var full = nextOffset - previousOffset;\n        percent = (value - previousOffset) / full;\n        var previousColor = this.getEqualColor(colorMapping, previousOffset);\n        var nextColor = this.getEqualColor(colorMapping, nextOffset);\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n            heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        this.updateLegendColorCollection(minValue, maxValue);\n    };\n    /**\n     * To update legend color Collection.\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue) {\n        if (minValue < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(minValue, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, true));\n        }\n        if (maxValue > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(maxValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = 'value';\n        returnCollection.isCompact = true;\n        // tslint:disable-next-line:no-any \n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                        this.heatMap.colorCollection[y].value;\n                    if (text < compareValue || (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                        color = this.heatMap.colorCollection[y].color;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (text < this.heatMap.colorCollection[0].value) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval } from '../utils/helper';\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap) {\n        var width = 0;\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        if (axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim'))) {\n            var interval = heatmap.initialClipRect.width / axis.axisLabels.length;\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (isNullOrUndefined(previousEnd)) {\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (startPoint < previousEnd) {\n                        if (axis.labelIntersectAction === 'Rotate45') {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                startX += axis.isInversed ? -interval : interval;\n            }\n        }\n        for (var i = 0; i < labels.length; i++) {\n            var size = (axis.angle % 180 === 0) ?\n                measureText(labels[i], axis.textStyle) : rotateTextSize(axis.textStyle, labels[i], axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = this.formatValue(isCustom, format, i);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = this.formatValue(isCustom, format, i);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        var min = !isNullOrUndefined(this.minimum) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = labels[i] ? labels[i].toString() : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                this.axisLabels.push(i.toString());\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(labels[i] ? labels[i].toString() : i.toString());\n            this.labelValue.push(labels[i] ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /**\n     * Formatted the axis label.\n     * @private\n     */\n    Axis.prototype.formatValue = function (isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', this.format(tempInterval))\n            : this.format(tempInterval);\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY } from '../utils/helper';\nimport { extend, Browser } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *  @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            var optionsLine = {};\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var y = rect.y + (!axis.opposedPosition ?\n            (axis.maxLabelSize.height + this.padding) : -(axis.maxLabelSize.height + this.padding));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var elementSize = measureText(title.text, title.textStyle);\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var x = rect.x + padding + ((axis.opposedPosition) ? axis.maxLabelSize.width : -axis.maxLabelSize.width);\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            axis.axisLabels = [];\n            axis.tooltipLabels = [];\n            axis.dateTimeAxisLabelInterval = [];\n            axis.labelValue = [];\n            if (axis.valueType === 'Numeric') {\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime') {\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis_1 = axisCollection[i];\n            axis_1.rect = extend({}, rect, null, true);\n            if (axis_1.orientation === 'Horizontal' && !axis_1.opposedPosition) {\n                axis_1.rect.y = rect.y + rect.height;\n                axis_1.rect.height = 0;\n            }\n            if (axis_1.orientation === 'Vertical' && axis_1.opposedPosition) {\n                axis_1.rect.x = rect.x + rect.width;\n                axis_1.rect.width = 0;\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.width / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var anglePadding = ((angle === 90 || angle === -90)) ? -2 : 0;\n        var labelElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ?\n                -(padding)\n                : padding + (3 * (elementSize.height / 4));\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) - (elementSize.width / 2) : -((lableRect.width / 2) + (elementSize.width / 2)));\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            var y = rect.y + labelPadding;\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                var rotateSize = rotateTextSize(axis.textStyle, label, angle);\n                var diffHeight = axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                var yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2));\n                y = y + (axis.opposedPosition ? -(rotateSize.height / 2) : ((rotateSize.height - elementSize.height) / 2));\n                transform = 'rotate(' + angle + ',' + x + ','\n                    + y + ')';\n            }\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, label);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, labelElement, label);\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (label.indexOf('...') !== -1 && this.heatMap.enableCanvasRendering) {\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(x, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = labelRect.height / 2; //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var x = labelRect.x + padding;\n            var y = labelRect.y + (axis.isInversed ? position : -position);\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, labels[i], 0, 'rotate(' + 0 + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            this.drawSvgCanvas.createText(options, labelElement, labels[i]);\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Configures the CellSettings property in the Heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var themeStyle = heatMap.themeStyle;\n        var tempBorder;\n        var tempRectPosition = [];\n        var circleRadius;\n        tempBorder = cellSetting.border;\n        var borderColor;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '');\n            borderColor = tempBorder.color;\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x);\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var displayText = this.getFormatedText(this.text, cellSetting.format);\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To set color and text details.\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        var cellSetting = this.heatMap.cellSettings;\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSource;\n        // tslint:disable-next-line:no-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? this.heatMap.dataSource.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    this.heatMap.dataSource.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup',\n                x: this.heatMap.initialClipRect.x, y: this.heatMap.initialClipRect.y, transform: 'translate( 0, 0)'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n    };\n    /**\n     * To Render Tile Cell.\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        var clockWise;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight) {\n        var tempMaxString = this.getFormatedText(this.text, this.heatMap.cellSettings.format);\n        this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n        this.checkLabelXDisplay = tempWidth > (tempMaxString.length *\n            (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n    };\n    /**\n     * To find percentage value.\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        radius = ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))\n            && this.heatMap.cellSettings.isInversedBubbleSize) ? radius - (radius * (valueInPrecentage / 100))\n            : radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        if (oldElement) {\n                            oldElement.style.opacity = '1';\n                        }\n                        if (element) {\n                            element.style.opacity = '0.65';\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    if (oldElement) {\n                        oldElement.style.opacity = '1';\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = this.formatValue(isCustom, format, val);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     * @return {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    /**\n     * Format the cell label.\n     * @private\n     */\n    Series.prototype.formatValue = function (isCustom, format, tempInterval) {\n        return isCustom ? format.replace('{value}', this.format(tempInterval))\n            : this.format(tempInterval);\n    };\n    return Series;\n}());\nexport { Series };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *  @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // tslint:disable-next-line:no-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // tslint:disable-next-line:no-any \n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < yLength; z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // tslint:disable-next-line:no-any \n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 && !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer, CurrentLegendRect } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip } from '../utils/helper';\nimport { Font } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Configures the Legend\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    ;\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (heatMap) {\n        /**\n         * destory code\n         */\n    };\n    ;\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                var fill = void 0;\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                    }\n                    ctx.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue)) * 100;\n                        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                        gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                        cgradientColors.push(gradientColor);\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderColorAxisGrid(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n                this.renderLegendLabel(rectItemsSvg);\n            }\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        for (var i = 0; i < colorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === colorCollection.length - 1) ? legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === colorCollection.length - 1) ? legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, colorCollection[i].color, tempBorder, 1, smartLegendRect);\n            this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n            rectPosition.x = legendX;\n            rectPosition.y = legendY;\n            rectPosition.width = legendWidth;\n            rectPosition.height = legendHeight;\n            rectPosition.label = this.labelCollections[i];\n            rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n            this.legendRectPositionCollection.push(rectPosition);\n            var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n            if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n            }\n        }\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        var anchor;\n        var dominantBaseline;\n        var legendLabel;\n        var textWrapWidth = 0;\n        var text;\n        this.legendLabelTooltip = [];\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        if (heatMap.enableCanvasRendering) {\n            var ctx = heatMap.canvasRenderer.ctx;\n            ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n            ctx.clip();\n        }\n        else {\n            legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n        }\n        var labelX;\n        var labelY;\n        for (var i = 0; i < colorCollection.length; i++) {\n            var value = ((colorCollection[i].value - this.legendMinValue) /\n                (this.legendMaxValue - this.legendMinValue)) * 100;\n            if (heatMap.horizontalGradient) {\n                labelX = this.segmentCollections[i];\n                labelY = rect.y + rect.height + this.labelPadding;\n                anchor = (value === 0) || (heatMap.paletteSettings.type === 'Fixed') ?\n                    (heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                        i === colorCollection.length - 1) ? 'end' : 'start' : (i === colorCollection.length - 1) ? 'end' : 'middle';\n                dominantBaseline = 'hanging';\n            }\n            else {\n                labelX = rect.x + rect.width + this.labelPadding;\n                labelY = this.segmentCollections[i];\n                dominantBaseline = (value === 0) || (heatMap.paletteSettings.type === 'Fixed') ?\n                    (heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                        i === colorCollection.length - 1) ? 'baseline' : 'hanging' :\n                    (i === colorCollection.length - 1) ? 'baseline' : 'middle';\n            }\n            textWrapWidth = heatMap.horizontalGradient ? this.textWrapCollections[i] : this.width - (this.legendRectScale.width +\n                this.labelPadding + this.legendRectPadding);\n            if (this.labelCollections[i] !== '') {\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                }\n                var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                if (text.length > 1) {\n                    this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    if (dominantBaseline === 'middle') {\n                        legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                    }\n                    else if (dominantBaseline === 'hanging') {\n                        legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                    }\n                }\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            this.legend.appendChild(legendLabel);\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            heatMap.svgObject.appendChild(clippath);\n            this.legend.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.fillRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var colorCollection = heatMap.legendColorCollection;\n        this.labelCollections = [];\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var paletteCollection = heatMap.colorCollection;\n            for (var i = 0; i < paletteCollection.length; i++) {\n                var label = paletteCollection[i].label ? paletteCollection[i].label :\n                    paletteCollection[i].value.toString();\n                if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                    && i > 0 && i < paletteCollection.length - 1) {\n                    this.labelCollections.push('');\n                }\n                else {\n                    this.labelCollections.push(label);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ?\n                    colorCollection[i].label : colorCollection[i].value.toString();\n                this.labelCollections.push(label);\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' ? this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' ? this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length) + this.listInterval;\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = '50';\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        var width = stringToNumber(this.legendWidth, rect.width);\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' ? height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : axis[0].maxLabelSize.height + axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' ? width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? axis[1].maxLabelSize.width + axisTitlePadding + padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : scale.height - 2 * padding;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = colorCollection[0].value > minValue ? minValue : colorCollection[0].value;\n        this.legendMaxValue = colorCollection[colorCollection.length - 1].value < maxValue ? maxValue :\n            colorCollection[colorCollection.length - 1].value;\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = ((colorCollection[index].value - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                value = isNaN(value) ? 0 : value;\n                if (!heatMap.horizontalGradient) {\n                    legendPart = rect.height / 100;\n                    pathY1 = legendRect.y + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                }\n                else {\n                    legendPart = rect.width / 100;\n                    pathX1 = legendRect.x + (legendPart * value);\n                    this.segmentCollections.push(pathX1);\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (this.segmentCollections[i] - this.segmentCollections[i - 1]) / 2;\n                    var nextSegmentWidth = (this.segmentCollections[i + 1] - this.segmentCollections[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = previousSegmentWidth < nextSegmentWidth ? previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    textWrapWidth = this.legendRectScale.width / heatMap.colorCollection.length;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e) {\n        var x = this.heatMap.mouseX;\n        var y = this.heatMap.mouseY;\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], x, y, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            var element = document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip');\n            if (element) {\n                element.style.visibility = 'hidden';\n            }\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var division = 0;\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        this.renderPagingElements();\n        var x;\n        var y;\n        var textWrapWidth = this.legendGroup.width - (this.legendSize +\n            this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            if (heatMap.legendSettings.showLabel) {\n                labelX = legendX + this.legendSize + this.labelPadding;\n                labelY = legendY + padding;\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                }\n                var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                if (text.length > 1) {\n                    this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, this.translategroup);\n                }\n                else {\n                    this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                }\n            }\n            listRect = new Rect(legendX, legendY, legendSize, legendSize);\n            var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, heatMap.colorCollection[i].color, tempBorder, 1, listRect);\n            this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n            heatMap.horizontalGradient ? legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval :\n                legendY += this.legendSize + this.listInterval;\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.translategroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale);\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function (heatMap) {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer',\n            styles: 'position:absolute'\n        });\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    return Legend;\n}());\nexport { Legend };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer, Browser } from '@syncfusion/ej2-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * The width of the heatmap as a string accepts input as both like '100px' or '100%'.\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.horizontalGradient = _this.legendSettings.position === 'Bottom' || _this.legendSettings.position === 'Top';\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        this.processInitData();\n        this.setTheme();\n        this.initAxis();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.element.appendChild(this.svgObject);\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.trigger('created', { heatmap: this });\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv(this);\n            }\n        }\n    };\n    /**\n     * Get component name\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                    this.isCellData = false;\n                    this.updateBubbleHelperProperty();\n                    this.reRenderDatasource();\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                case 'legendSettings':\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.element.appendChild(this.svgObject);\n            this.trigger('created', { heatmap: this });\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.element.appendChild(this.svgObject);\n            this.trigger('created', { heatmap: this });\n        }\n    };\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        tooltipDiv.setAttribute('style', 'position: relative');\n        this.element.appendChild(tooltipDiv);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return{ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     * @method destroy\n     * @return {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', this.themeStyle.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) && (event.target.textContent.indexOf('...') > -1)) {\n            var index = parseInt(targetId.replace(this.element.id + '_XAxis_Label', ''), 10);\n            showTooltip(this.axisCollections[0].axisLabels[index], x, y, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) ? true : false;\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize.bind(this));\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, move, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize);\n    };\n    /**\n     * Handles the heatmap resize.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            _this.refreshBound();\n            _this.element.appendChild(_this.svgObject);\n        }, 500);\n        return false;\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = false;\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger('cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id)\n            });\n        }\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var _this = this;\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n            }\n            var isshowTooltip = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? this.isHeatmapRect(pageX, pageY) : false;\n            if (isshowTooltip) {\n                var currentRect = void 0;\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                if (this.tempTooltipRectId !== currentRect.id) {\n                    if (this.showTooltip) {\n                        if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                            && !this.enableCanvasRendering) {\n                            this.heatMapSeries.highlightSvgRect(currentRect.id);\n                        }\n                        this.tooltipModule.renderTooltip(currentRect);\n                        if (this.isTouch) {\n                            if (this.tooltipTimer) {\n                                window.clearTimeout(this.tooltipTimer);\n                            }\n                            this.tooltipTimer = setTimeout(function () {\n                                _this.tooltipModule.tooltipObject.fadeOut();\n                                _this.tooltipModule.isFadeout = true;\n                            }, 1500);\n                            if (e.type === 'touchmove') {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                    this.tempTooltipRectId = currentRect.id;\n                }\n            }\n            else {\n                if (e.target.id.indexOf('Celltooltip') === -1) {\n                    if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(e.target.id);\n                    }\n                    if (this.tooltipModule && this.showTooltip) {\n                        this.tooltipModule.showHideTooltip(false, true);\n                    }\n                }\n                this.tempTooltipRectId = '';\n            }\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e);\n                }\n            }\n            else {\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY));\n                if (tooltipText) {\n                    showTooltip(tooltipText, this.mouseX, this.mouseY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            if (!this.enableCanvasRendering) {\n                removeElement(this.element.id + '_Title_Tooltip');\n            }\n            else {\n                removeElement(this.element.id + '_canvas_Tooltip');\n            }\n        }\n        return true;\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the Adaptor Property in the Heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Data.prototype, \"data\", void 0);\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('cell')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (adaptData) {\n        if (adaptData && adaptData.data === undefined) {\n            this.heatMap.completeAdaptDataSource = adaptData;\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Table' || adaptData.data === null) {\n            this.heatMap.completeAdaptDataSource = adaptData.data;\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(adaptData);\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(adaptData);\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(adaptData.data, xAxis, yAxis);\n            }\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(adaptData);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        var intervalType;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (data, xAxis, yAxis) {\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            if (data[dataIndex][0] < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = data[dataIndex][0];\n            }\n            if (data[dataIndex][0] > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = data[dataIndex][0];\n            }\n            if (data[dataIndex][1] < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = data[dataIndex][1];\n            }\n            if (data[dataIndex][1] > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = data[dataIndex][1];\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] = isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                            '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'));\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'));\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.')),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'))\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'));\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to get data from complex mapping.\n     * @return {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // tslint:disable-next-line:no-any \n    tempSplitDataCollection, adaptordata, labels, tempSplitData) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'));\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function (heatMap) {\n        /**\n         * No Lines\n         */\n    };\n    ;\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n","/**\n * HeatMap tool tip file\n */\nimport { createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (heatMap) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    ;\n    /**\n     * To add Tooltip to the rect cell.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (x, y, tempTooltipText) {\n        var offset = null;\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        this.tooltipObject = new tool({\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            }\n        }, '#' + this.heatMap.element.id + 'Celltooltipcontainer');\n    };\n    /**\n     * To create div container for tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer',\n            styles: 'position:absolute'\n        });\n        this.heatMap.element.appendChild(createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent',\n            styles: 'position:relative'\n        })\n            .appendChild(element2));\n    };\n    /**\n     * To get default tooltip content.\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSource;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData);\n                if (!argData.cancel) {\n                    tempTooltipText = argData.content;\n                }\n                else {\n                    if (this.tooltipObject) {\n                        this.showHideTooltip(false);\n                    }\n                    return;\n                }\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n            }\n            if (!this.tooltipObject) {\n                this.createTooltip(currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n            }\n            else {\n                this.tooltipObject.content = tempTooltipText;\n            }\n            this.showHideTooltip(true);\n            this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n            this.isFirst = (this.isFirst) ? false : this.isFirst;\n            this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n            this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n            this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n"],"names":["stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerHTML","style","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","sum","values","_i","values_1","length","titlePositionY","heatmapSize","topPadding","bottomPadding","height","rotateTextSize","angle","box","options","renderer","SvgRenderer","svgObject","createSvg","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","currentLabel","maximumWidth","textCollection","split","label","labelCollection","i","len","concat","maxWidth","index","substring","showTooltip","x","y","areaWidth","element","isTouch","heatmap","tooltip","initialClip","initialClipRect","toString","styles","titleSettings","availableSize","setTimeout","removeElement","getElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","color","window","getComputedStyle","isRGBValue","exec","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","Theme","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","BubbleData","Title","Complex","PaletteCollection","ColorCollection","BubbleTooltipData","mappingName","bubbleData","valueType","LegendColorCollection","isHidden","PaletteSettings","Collection","g","CellColor","heatMap","convertToRGB","colorMapping","previousOffset","nextOffset","offset","Number","percent","previousColor","getEqualColor","nextColor","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","colorCollection","legendColorCollection","range","minValue","bubbleSizeWithColor","minColorValue","dataSourceMinValue","maxValue","maxColorValue","dataSourceMaxValue","emptyPointColor","paletteSettings","themeStyle","emptyCellColor","tempcolorMapping","orderbyOffset","palette","isCompact","offsets","extend","type","updateLegendColorCollection","unshift","returnCollection","PaletterColor","sort","a","isNullOrUndefined","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","call","stroke","parseFloat","CurrentRect","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","dy","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","start","end","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","tspanElement","renderOptions","dominant-baseline","drawText","createTSpan","drawLine","translateX","translateY","ctx","getOptionValue","toLowerCase","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","heatMapTitleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","Axis","nearSizes","farSizes","maxLabelSize","titleSize","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","computeSize","axis","getTitleSize","getMaxLabelSize","innerPadding","textStyle","opposedPosition","labelSize","labels","orientation","labelIntersectAction","startX","isInversed","previousEnd","elementSize","startPoint","endPoint","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","format","labelFormat","isCustom","match","intl","getNumberFormat","formatValue","floor","reverse","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","tempInterval","showLabelOn","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","replace","difference","days","years","months","abs","hours","AxisHelper","padding","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","parent","axisTitle","calculateVisibleLabels","axisCollection","measureAxis","calculateAxisSize","axis_1","compactInterval","axisInterval","tempintervel","labelPadding","lableStrtX","labelElement","lableRect","rotateSize","diffHeight","axisLabel","labelInterval","lableStartY","labelRect","Browser","isIE","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","xLength","yLength","tempBorder","circleRadius","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","rectPositionCollection","bubbleColorValue","yAxis","getBubbleRadius","setTextAndColor","rectPosition","renderingMode","updateRectDetails","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","tempCircleRadius","getRadiusBypercentage","showLabel","displayText","getFormatedText","themeCellTextStyle","getSaturatedColor","containerTextObject","containerRectObject","adaptData","dataSource","clonedDataSource","isColorValueExist","tempBubbleCollection","isJsonData","adaptorType","bubbleDataMapping","cellBorder","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","tempMaxString","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","slice","tempRectHoverClass","enableCellHighlighting","oldElement","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TwoDimensional","processDataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","labelLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","xAxis","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","currentPage","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","getModuleName","destroy","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","grd","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","isNaN","addColorStop","gradientOptions","gradientColor","cgradientColors","gradientPercentage","linearGradient","drawGradient","rectItem","renderColorAxisGrid","renderSmartLegend","labelDisplayType","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","smartLegendRect","legendX","legendY","legendWidth","legendHeight","dominantBaseline","legendLabel","textWrapWidth","clip","labelX","labelY","legendRectPadding","textBasic","lastChild","setAttribute","clippath","createClipPath","clipRect","renderGradientPointer","e","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","keys","background","calculateLegendBounds","paletteCollection","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","alignment","axisTitlePadding","axisHeight","margin","axisWidth","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","calculateColorAxisGrid","legendPart","maxTextWrapLength","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendLabelTooltip","mouseX","mouseY","event","textContent","targetId","offsetWidth","division","translatePage","page","isNext","removeChild","firstChild","childNodes","createTooltipDiv","renderTooltip","currentLegendRect","tempTooltipText","tooltipObject","tool","theme","content","location","inverted","areaBounds","createTooltip","ele","fadeOut","HeatMap","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","heatMapAxis","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","trigger","processInitData","setTheme","initAxis","calculateMaxLength","completeAdaptDataSource","calculateBounds","renderElements","tooltipModule","showHideTooltip","reRenderDatasource","constructDatasource","setRenderMode","legendModule","visible","legendVisibilityByCellType","renderSecondaryElement","renderBorder","renderTitle","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","_a","refreshBound","removeSvg","calculateSize","createCanvas","tooltipDiv","requiredModules","modules","member","args","classList","refresh","add","offsetHeight","heatMapTitle","titleTooltip","axisTooltip","isHeatmapRect","lastRectDetails","cellTextColor","getThemeColor","titleHeight","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","cancel","EventHandler","isDevice","heatMapMouseClick","heatMapMouseMove","heatMapMouseLeave","addEventListener","heatMapResize","bind","setStyle","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","removeEventListener","resizeTimer","clearTimeout","isDestroyed","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","touchArg","elementRect","changedTouches","clientY","clientX","xLabel","yLabel","xValue","yValue","cellElement","notify","tooltipText","isheatmapRect","showGradientPointer","tooltipTimer","isFadeout","preventDefault","tooltipRect","tooltipElement_1","legendTooltipTimer","gradientTimer","main","Event","NotifyPropertyChanges","Component","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","data","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","dataIndex","adaptordata","tempDataCollection","xLabels","yLabels","currentDataXIndex","currentDataYIndex","reconstructData","xindex","getSplitDataValue","xDataMapping","yDataMapping","valueMapping","tempSplitDataCollection","tempSplitData","splitIndex","Tooltip","isFirst","isShow","enableAnimation","element2","getTooltipContent","hetmapSeries","value1","value2","tooltipRender","argData","name"],"mappings":"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"}